<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript/TypeScript Guide | Hyperledger Iroha 2 Tutorial</title>
    <meta name="description" content="Documentation for Hyperledger Iroha 2 offering step-by-step guides for SDKs and outlining the main differences between Iroha versions.">
    <link rel="preload stylesheet" href="/iroha-2-docs/assets/style.5de7b0e8.css" as="style">
    
    <script type="module" src="/iroha-2-docs/assets/app.c23523ab.js"></script>
    <link rel="preload" href="/iroha-2-docs/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/iroha-2-docs/assets/chunks/framework.1293becd.js">
    <link rel="modulepreload" href="/iroha-2-docs/assets/chunks/theme.6d4e665d.js">
    <link rel="modulepreload" href="/iroha-2-docs/assets/chunks/ShareFeedback.9f629070.js">
    <link rel="modulepreload" href="/iroha-2-docs/assets/chunks/MermaidRender.7316e2cd.js">
    <link rel="modulepreload" href="/iroha-2-docs/assets/chunks/CompatibilityMatrixTable.b72f55f3.js">
    <link rel="modulepreload" href="/iroha-2-docs/assets/chunks/CompatibilityMatrixTableIcon.e79f5bb9.js">
    <link rel="modulepreload" href="/iroha-2-docs/assets/guide_javascript.md.8a202ec0.lean.js">
    <link rel="icon" href="/iroha-2-docs/favicon.ico" sizes="any">
    <link rel="icon" href="/iroha-2-docs/icon.svg" sizes="image/svg+xml">
    <link rel="apple-touch-icon" href="/iroha-2-docs/apple-touch-icon.png">
    <link rel="manifest" href="/iroha-2-docs/manifest.webmanifest">
    <script src="https://www.googletagmanager.com/gtag/js?id=G-D6ETK9TN47"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-D6ETK9TN47");</script>
    <link rel="stylesheet" href="https://esm.sh/katex@0.16.8/dist/katex.min.css">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-12fc2a51 data-v-18c0e4a1><!--[--><!--]--><!--[--><span tabindex="-1" data-v-7190744d></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-7190744d> Skip to content </a><!--]--><!----><header class="VPNav" data-v-18c0e4a1 data-v-ddf930b5><div class="VPNavBar has-sidebar" data-v-ddf930b5 data-v-37ae32c0><div class="container" data-v-37ae32c0><div class="title" data-v-37ae32c0><div class="VPNavBarTitle has-sidebar" data-v-37ae32c0 data-v-a332c19e><a class="title" href="/iroha-2-docs/" data-v-a332c19e><!--[--><!--]--><!----><!--[-->Iroha 2<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-37ae32c0><div class="curtain" data-v-37ae32c0></div><div class="content-body" data-v-37ae32c0><!--[--><!--]--><div class="VPNavBarSearch search" data-v-37ae32c0><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-37ae32c0 data-v-4907edd6><span id="main-nav-aria-label" class="visually-hidden" data-v-4907edd6>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/iroha-2-docs/" tabindex="0" data-v-4907edd6 data-v-b0bf7172><!--[--><span data-v-b0bf7172>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/iroha-2-docs/data-model-schema/" tabindex="0" data-v-4907edd6 data-v-b0bf7172><!--[--><span data-v-b0bf7172>Schema</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-37ae32c0 data-v-8024a3fd><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-8024a3fd data-v-9e8fb728 data-v-70543c77><span class="check" data-v-70543c77><span class="icon" data-v-70543c77><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-9e8fb728><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-9e8fb728><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-37ae32c0 data-v-24391483 data-v-ba919e0f><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hyperledger/iroha-2-docs" aria-label="github" target="_blank" rel="noopener" data-v-ba919e0f data-v-5c356b5c><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://github.com/hyperledger/iroha-2-docs/issues/new" aria-label target="_blank" rel="noopener" data-v-ba919e0f data-v-5c356b5c><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M12 21q-1.625 0-3.013-.8T6.8 18H4.975q-.425 0-.7-.288T4 17q0-.425.288-.713T5 16h1.1q-.075-.5-.088-1T6 14H4.975q-.425 0-.7-.288T4 13q0-.425.288-.713T5 12h1q0-.5.013-1t.087-1H4.975q-.425 0-.7-.288T4 9q0-.425.288-.713T5 8h1.8q.35-.575.788-1.075T8.6 6.05l-.925-.95q-.275-.3-.263-.713T7.7 3.7q.275-.275.7-.275t.7.275l1.45 1.45q.7-.225 1.425-.225t1.425.225l1.5-1.475q.3-.275.713-.262t.687.287q.275.275.275.7t-.275.7l-.95.95q.575.375 1.038.863T17.2 8h1.825q.425 0 .7.288T20 9q0 .425-.288.713T19 10h-1.1q.075.5.088 1T18 12h1.025q.425 0 .7.288T20 13q0 .425-.288.713T19 14h-1q0 .5-.013 1t-.087 1h1.125q.425 0 .7.288T20 17q0 .425-.288.713T19 18h-1.8q-.8 1.4-2.188 2.2T12 21Zm0-2q1.65 0 2.825-1.175T16 15v-4q0-1.65-1.175-2.825T12 7q-1.65 0-2.825 1.175T8 11v4q0 1.65 1.175 2.825T12 19Zm-1-3h2.025q.425 0 .7-.288T14 15q0-.425-.288-.713T13 14h-2.025q-.425 0-.7.288T10 15q0 .425.288.713T11 16Zm0-4h2.025q.425 0 .7-.288T14 11q0-.425-.288-.713T13 10h-2.025q-.425 0-.7.288T10 11q0 .425.288.713T11 12Zm1 1Z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-37ae32c0 data-v-1425926a data-v-8377b1cc><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8377b1cc><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-8377b1cc><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-8377b1cc><div class="VPMenu" data-v-8377b1cc data-v-923db0f3><!----><!--[--><!--[--><!----><div class="group" data-v-1425926a><div class="item appearance" data-v-1425926a><p class="label" data-v-1425926a>Appearance</p><div class="appearance-action" data-v-1425926a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-1425926a data-v-9e8fb728 data-v-70543c77><span class="check" data-v-70543c77><span class="icon" data-v-70543c77><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-9e8fb728><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-9e8fb728><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-1425926a><div class="item social-links" data-v-1425926a><div class="VPSocialLinks social-links-list" data-v-1425926a data-v-ba919e0f><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hyperledger/iroha-2-docs" aria-label="github" target="_blank" rel="noopener" data-v-ba919e0f data-v-5c356b5c><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://github.com/hyperledger/iroha-2-docs/issues/new" aria-label target="_blank" rel="noopener" data-v-ba919e0f data-v-5c356b5c><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M12 21q-1.625 0-3.013-.8T6.8 18H4.975q-.425 0-.7-.288T4 17q0-.425.288-.713T5 16h1.1q-.075-.5-.088-1T6 14H4.975q-.425 0-.7-.288T4 13q0-.425.288-.713T5 12h1q0-.5.013-1t.087-1H4.975q-.425 0-.7-.288T4 9q0-.425.288-.713T5 8h1.8q.35-.575.788-1.075T8.6 6.05l-.925-.95q-.275-.3-.263-.713T7.7 3.7q.275-.275.7-.275t.7.275l1.45 1.45q.7-.225 1.425-.225t1.425.225l1.5-1.475q.3-.275.713-.262t.687.287q.275.275.275.7t-.275.7l-.95.95q.575.375 1.038.863T17.2 8h1.825q.425 0 .7.288T20 9q0 .425-.288.713T19 10h-1.1q.075.5.088 1T18 12h1.025q.425 0 .7.288T20 13q0 .425-.288.713T19 14h-1q0 .5-.013 1t-.087 1h1.125q.425 0 .7.288T20 17q0 .425-.288.713T19 18h-1.8q-.8 1.4-2.188 2.2T12 21Zm0-2q1.65 0 2.825-1.175T16 15v-4q0-1.65-1.175-2.825T12 7q-1.65 0-2.825 1.175T8 11v4q0 1.65 1.175 2.825T12 19Zm-1-3h2.025q.425 0 .7-.288T14 15q0-.425-.288-.713T13 14h-2.025q-.425 0-.7.288T10 15q0 .425.288.713T11 16Zm0-4h2.025q.425 0 .7-.288T14 11q0-.425-.288-.713T13 10h-2.025q-.425 0-.7.288T10 11q0 .425.288.713T11 12Zm1 1Z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-37ae32c0 data-v-b37633d2><span class="container" data-v-b37633d2><span class="top" data-v-b37633d2></span><span class="middle" data-v-b37633d2></span><span class="bottom" data-v-b37633d2></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-18c0e4a1 data-v-e86af244><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-e86af244><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-e86af244><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-e86af244>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-e86af244 data-v-86af0a73><button data-v-86af0a73>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-18c0e4a1 data-v-727d01b3><div class="curtain" data-v-727d01b3></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-727d01b3><span class="visually-hidden" id="sidebar-aria-label" data-v-727d01b3> Sidebar Navigation </span><!--[--><!--[--><div class="sticky-container py-4" data-v-12fc2a51><!--[--><button class="v-btn-primary inline-flex items-center space-x-2" data-v-701191ba><!--[--><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewbox="0 0 24 24" data-v-701191ba><path fill="currentColor" d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17l-.59.59l-.58.58V4h16v12zm-9-4h2v2h-2zm0-6h2v4h-2z"></path></svg><span data-v-701191ba>Share feedback</span><!--]--></button><!--[--><!----><div style="position:fixed;top:1;left:1;width:1;height:0;padding:0;margin:-1;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none;"></div><!--]--><!--]--></div><!--]--><!--]--><!--[--><div class="group" data-v-727d01b3><section class="VPSidebarItem level-0" data-v-727d01b3 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h2 class="text" data-v-9e3d5071>Getting started</h2><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>How Iroha works</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/iroha-2.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Iroha 2 vs. Iroha 1</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1" data-v-9e3d5071 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h3 class="text" data-v-9e3d5071>Build and Install</h3><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/quick-start.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Quick Start with Docker</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/install.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Install Iroha</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/build.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Build Iroha Client</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/support.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Receive support</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/glossary.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Glossary</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-727d01b3><section class="VPSidebarItem level-0 has-active" data-v-727d01b3 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h2 class="text" data-v-9e3d5071>Tutorial</h2><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/intro.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Introduction</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 has-active" data-v-9e3d5071 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h3 class="text" data-v-9e3d5071>Language-specific Guides</h3><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/bash.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Bash</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/python.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Python 3</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/rust.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Rust</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/kotlin-java.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Kotlin/Java</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/javascript.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>JavaScript</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/compatibility-matrix.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Compatibility Matrix</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-727d01b3><section class="VPSidebarItem level-0" data-v-727d01b3 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h2 class="text" data-v-9e3d5071>Blockchain</h2><!----></div><div class="items" data-v-9e3d5071><!--[--><section class="VPSidebarItem level-1" data-v-9e3d5071 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h3 class="text" data-v-9e3d5071>Overview</h3><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/transactions.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Transactions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/consensus.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Consensus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/data-model.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Data Model</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/naming.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Naming Conventions</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-9e3d5071 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h3 class="text" data-v-9e3d5071>Entities</h3><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/assets.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Assets</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/metadata.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Metadata</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/events.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Events</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/filters.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Filters</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/triggers.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Triggers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/queries.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Queries</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/permissions.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Permissions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/world.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>World</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-9e3d5071 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h3 class="text" data-v-9e3d5071>Operations</h3><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/instructions.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Instructions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/expressions.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Expressions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/blockchain/wasm.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Web Assembly</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-727d01b3><section class="VPSidebarItem level-0" data-v-727d01b3 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h2 class="text" data-v-9e3d5071>Configuration and Management</h2><!----></div><div class="items" data-v-9e3d5071><!--[--><section class="VPSidebarItem level-1" data-v-9e3d5071 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h3 class="text" data-v-9e3d5071>Configure Iroha</h3><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/configure/configuration-types.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Configuration Types</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/configure/sample-configuration.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Samples</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/configure/peer-configuration.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Peer Configuration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/configure/client-configuration.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Client Configuration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/configure/genesis.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Genesis Block</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/configure/metadata-and-store-assets.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Metadata and Store assets</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/configure/keys.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Public Key Cryptography</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/configure/peer-management.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Peer Management</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/configure/modes.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Public and Private Blockchains</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-727d01b3><section class="VPSidebarItem level-0" data-v-727d01b3 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h2 class="text" data-v-9e3d5071>Troubleshooting</h2><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/troubleshooting/overview.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/troubleshooting/installation-issues.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Installation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/troubleshooting/configuration-issues.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Configuration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/troubleshooting/deployment-issues.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Deployment</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/troubleshooting/integration-issues.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Integration</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-727d01b3><section class="VPSidebarItem level-0" data-v-727d01b3 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h2 class="text" data-v-9e3d5071>Advanced Mode</h2><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/advanced/running-iroha-on-bare-metal.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Iroha On Bare Metal</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/advanced/hot-reload.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Hot Reload Iroha</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/advanced/metrics.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Monitor Iroha Performance</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-727d01b3><section class="VPSidebarItem level-0" data-v-727d01b3 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h2 class="text" data-v-9e3d5071>API</h2><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/api/index.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/api/ffi.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Foreign Function Interfaces</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-727d01b3><section class="VPSidebarItem level-0" data-v-727d01b3 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h2 class="text" data-v-9e3d5071>Documenting Iroha</h2><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/documenting/snippets.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>Code Snippets</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-727d01b3><section class="VPSidebarItem level-0" data-v-727d01b3 data-v-9e3d5071><div class="item" role="button" tabindex="0" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><h2 class="text" data-v-9e3d5071>Reports</h2><!----></div><div class="items" data-v-9e3d5071><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9e3d5071 data-v-9e3d5071><div class="item" data-v-9e3d5071><div class="indicator" data-v-9e3d5071></div><a class="VPLink link link" href="/iroha-2-docs/guide/reports/csd-rtgs.html" data-v-9e3d5071><!--[--><p class="text" data-v-9e3d5071>CSD/RTGS linkages via on-chain scripting</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-18c0e4a1 data-v-a0e631d0><div class="VPDoc has-sidebar has-aside" data-v-a0e631d0 data-v-4c05baee><!--[--><!--]--><div class="container" data-v-4c05baee><div class="aside" data-v-4c05baee><div class="aside-curtain" data-v-4c05baee></div><div class="aside-container" data-v-4c05baee><div class="aside-content" data-v-4c05baee><div class="VPDocAside" data-v-4c05baee data-v-faa59fde><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-faa59fde data-v-b6505075><div class="content" data-v-b6505075><div class="outline-marker" data-v-b6505075></div><div class="outline-title" role="heading" aria-level="2" data-v-b6505075>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-b6505075><span class="visually-hidden" id="doc-outline-aria-label" data-v-b6505075> Table of Contents for current page </span><ul class="root" data-v-b6505075 data-v-095ce067><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-faa59fde></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-4c05baee><div class="content-container" data-v-4c05baee><!--[--><!--]--><!----><main class="main" data-v-4c05baee><div style="position:relative;" class="vp-doc _iroha-2-docs_guide_javascript" data-v-4c05baee><div><h1 id="javascript-typescript-guide" tabindex="-1">JavaScript/TypeScript Guide <a class="header-anchor" href="#javascript-typescript-guide" aria-label="Permalink to &quot;JavaScript/TypeScript Guide&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This guide targets <code>@iroha2/client</code> and <code>@iroha/data-model</code> version <strong><code>^5.0</code></strong>, which targets Iroha 2 stable (<code>2.0.0-pre-rc.13</code>, <code>c4af68c4f7959b154eb5380aa93c894e2e63fe4e</code>).</p></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This guide assumes you are familiar with Node.js and NPM ecosystem.</p></div><h2 id="_1-client-installation" tabindex="-1">1. Client Installation <a class="header-anchor" href="#_1-client-installation" aria-label="Permalink to &quot;1. Client Installation&quot;">​</a></h2><p>The Iroha 2 JavaScript library consists of multiple packages:</p><table><thead><tr><th>Package</th><th>Description</th></tr></thead><tbody><tr><td><code>client</code></td><td>Submits requests to Iroha Peer</td></tr><tr><td><code>data-model</code></td><td>Provides <a href="https://github.com/paritytech/parity-scale-codec" target="_blank" rel="noreferrer">SCALE</a> (Simple Concatenated Aggregate Little-Endian)-codecs for the Iroha 2 Data Model</td></tr><tr><td><code>crypto-core</code></td><td>Contains cryptography types</td></tr><tr><td><code>crypto-target-node</code></td><td>Provides compiled crypto WASM (<a href="https://webassembly.org/" target="_blank" rel="noreferrer">Web Assembly</a>) for the Node.js environment</td></tr><tr><td><code>crypto-target-web</code></td><td>Provides compiled crypto WASM for native Web (ESM)</td></tr><tr><td><code class="whitespace-pre">crypto-target-bundler</code></td><td>Provides compiled crypto WASM to use with bundlers such as Webpack</td></tr></tbody></table><p>All of these are published under the <code>@iroha2</code> scope into Iroha Nexus Registry. In the future, they will be published in the main NPM Registry.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>You can also work with the sources in Iroha Javascript repository, where the active development is happening. Clone the repository and check out the <code>iroha2</code> branch:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">clone</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://github.com/hyperledger/iroha-javascript.git</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--branch</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">iroha2</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">clone</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://github.com/hyperledger/iroha-javascript.git</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--branch</span><span style="color:#24292E;"> </span><span style="color:#032F62;">iroha2</span></span></code></pre></div><p>Please note that this guide does not cover the details of this workflow.</p></div><p>While we&#39;ve taken great care to decouple the packages, so you could minimise their footprint, for the purposes of this tutorial, it&#39;s better to install everything.</p><p>The installation consists of two steps: setting up a registry and then installing the packages you need.</p><ol><li><p>Set up a registry. In shell, run:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@iroha2:registry=https://nexus.iroha.tech/repository/npm-group/&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.npmrc</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@iroha2:registry=https://nexus.iroha.tech/repository/npm-group/&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.npmrc</span></span></code></pre></div></li><li><p>Install Iroha 2 packages as any other NPM package. If you are following the tutorial, we recommend installing all of the following:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@iroha2/client</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@iroha2/data-model</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@iroha2/crypto-core</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@iroha2/crypto-target-node</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@iroha2/crypto-target-web</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@iroha2/crypto-target-bundler</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@iroha2/client</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@iroha2/data-model</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@iroha2/crypto-core</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@iroha2/crypto-target-node</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@iroha2/crypto-target-web</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@iroha2/crypto-target-bundler</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Note that you can use other package managers, such as <a href="https://yarnpkg.com" target="_blank" rel="noreferrer">yarn</a> or <a href="https://pnpm.io" target="_blank" rel="noreferrer">pnpm</a>, for a faster installation. For example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">yarn</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@iroha2/data-model</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pnpm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@iroha2/crypto-target-web</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">yarn</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@iroha2/data-model</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pnpm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@iroha2/crypto-target-web</span></span></code></pre></div></div><p>The set of packages that you need to install depends on what you are trying to achieve. If you only need to play with the Data Model to perform (de-)serialisation, the <code>data-model</code> package is sufficient. If you need to check on a peer in terms of its status or health, then you only need the client library.</p></li><li><p>Install the following packages as well:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hada</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tsx</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hada</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tsx</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span></span></code></pre></div></li><li><p>If you are planning to use the Transaction or Query API, you&#39;ll also need to inject an appropriate <code>crypto</code> instance into the client at runtime. This has to be adjusted according to your particular environment.</p><p>For example, Node.js users need the following:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { crypto } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/crypto-target-node&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { setCrypto } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">setCrypto</span><span style="color:#E1E4E8;">(crypto)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { crypto } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/crypto-target-node&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { setCrypto } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">setCrypto</span><span style="color:#24292E;">(crypto)</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Please refer to the documentation of the respective <code>@iroha2/crypto-target-*</code> package, because each case has specific configuration steps. For example, the <code>web</code> target needs to be initialised (via asynchronous <code>init()</code>) before you can use any cryptographic methods.</p></div></li></ol><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>When you are creating files in the following steps, you must place them in the same directory that contains <code>node_modules</code>, like so:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">╭───┬───────────────────┬──────╮</span></span>
<span class="line"><span style="color:#e1e4e8;">│ # │       name        │ type │</span></span>
<span class="line"><span style="color:#e1e4e8;">├───┼───────────────────┼──────┤</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 0 │ node_modules      │ dir  │</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 1 │ addClient.ts      │ file │</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 2 │ example.ts        │ file │</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 3 │ package.json      │ file │</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 4 │ pnpm-lock.yaml    │ file │</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 5 │ registerDomain.ts │ file │</span></span>
<span class="line"><span style="color:#e1e4e8;">╰───┴───────────────────┴──────╯</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">╭───┬───────────────────┬──────╮</span></span>
<span class="line"><span style="color:#24292e;">│ # │       name        │ type │</span></span>
<span class="line"><span style="color:#24292e;">├───┼───────────────────┼──────┤</span></span>
<span class="line"><span style="color:#24292e;">│ 0 │ node_modules      │ dir  │</span></span>
<span class="line"><span style="color:#24292e;">│ 1 │ addClient.ts      │ file │</span></span>
<span class="line"><span style="color:#24292e;">│ 2 │ example.ts        │ file │</span></span>
<span class="line"><span style="color:#24292e;">│ 3 │ package.json      │ file │</span></span>
<span class="line"><span style="color:#24292e;">│ 4 │ pnpm-lock.yaml    │ file │</span></span>
<span class="line"><span style="color:#24292e;">│ 5 │ registerDomain.ts │ file │</span></span>
<span class="line"><span style="color:#24292e;">╰───┴───────────────────┴──────╯</span></span></code></pre></div><p>We recommend using <a href="https://www.npmjs.com/package/tsx" target="_blank" rel="noreferrer"><code>tsx</code></a> to run the scripts you&#39;ve created. For example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tsx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">example.ts</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tsx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">example.ts</span></span></code></pre></div></div><h2 id="_2-client-configuration" tabindex="-1">2. Client Configuration <a class="header-anchor" href="#_2-client-configuration" aria-label="Permalink to &quot;2. Client Configuration&quot;">​</a></h2><p>The JavaScript Client is fairly low-level in a sense that it doesn&#39;t expose any convenience features like a <code>TransactionBuilder</code> or a <code>ConfigBuilder</code>.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The work on implementing those is underway, and these features will very likely be available in the second round of this tutorial&#39;s release.</p></div><p>Thus, on the plus side, configuration of the client is simple. On the downside, you have to prepare a lot manually.</p><p>You may need to use transactions or queries, so before we initialize the client, let&#39;s set up this part. Let&#39;s assume that you have stringified public &amp; private keys (more on that later). Thus, a key-pair generation could look like this:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { crypto } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/crypto-target-node&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">keyPair</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> crypto.KeyPair.</span><span style="color:#B392F0;">fromJSON</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  public_key: </span><span style="color:#9ECBFF;">&#39;ed0120e555d194e8822da35ac541ce9eec8b45058f4d294d9426ef97ba92698766f7d3&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  private_key: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    digest_function: </span><span style="color:#9ECBFF;">&#39;ed25519&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    payload:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;de757bcb79f4c63e8fa0795edc26f86dfdba189b846e903d0b732bb644607720e555d194e8822da35ac541ce9eec8b45058f4d294d9426ef97ba92698766f7d3&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { crypto } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/crypto-target-node&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">keyPair</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> crypto.KeyPair.</span><span style="color:#6F42C1;">fromJSON</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  public_key: </span><span style="color:#032F62;">&#39;ed0120e555d194e8822da35ac541ce9eec8b45058f4d294d9426ef97ba92698766f7d3&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  private_key: {</span></span>
<span class="line"><span style="color:#24292E;">    digest_function: </span><span style="color:#032F62;">&#39;ed25519&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    payload:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;de757bcb79f4c63e8fa0795edc26f86dfdba189b846e903d0b732bb644607720e555d194e8822da35ac541ce9eec8b45058f4d294d9426ef97ba92698766f7d3&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><p>When you have a key pair, you might create a <code>Signer</code> using the key pair:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { cryptoTypes } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/crypto-core&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Signer } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { AccountId, DomainId } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Key pair from previous step</span></span>
<span class="line"><span style="color:#F97583;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">keyPair</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cryptoTypes</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">KeyPair</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">accountId</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">AccountId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Account name</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&#39;alice&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// The domain where this account is registered</span></span>
<span class="line"><span style="color:#E1E4E8;">  domain_id: </span><span style="color:#B392F0;">DomainId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    name: </span><span style="color:#9ECBFF;">&#39;wonderland&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  }),</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">signer</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Signer</span><span style="color:#E1E4E8;">(accountId, keyPair)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { cryptoTypes } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/crypto-core&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Signer } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { AccountId, DomainId } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Key pair from previous step</span></span>
<span class="line"><span style="color:#D73A49;">declare</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">keyPair</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cryptoTypes</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">KeyPair</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">accountId</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AccountId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Account name</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&#39;alice&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// The domain where this account is registered</span></span>
<span class="line"><span style="color:#24292E;">  domain_id: </span><span style="color:#6F42C1;">DomainId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    name: </span><span style="color:#032F62;">&#39;wonderland&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  }),</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">signer</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Signer</span><span style="color:#24292E;">(accountId, keyPair)</span></span></code></pre></div><p>Now we&#39;re able to make signatures with <code>signer.sign(binary)</code>! However, to interact with Iroha, we need to be able to do more than just sign. We would need to send something to Iroha, like transactions or queries. <code>Torii</code> will help us with that.</p><p><code>Torii</code> handles HTTP / WebSocket communications with Iroha. We will use it to communicate with Iroha endpoints. With the help of <code>Torii</code> we can:</p><ul><li>Submit transactions with <code>Torii.submit()</code></li><li>Send queries with <code>Torii.request()</code></li><li>Listen for events with <code>Torii.listenForEvents()</code></li><li>Listen for blocks stream with <code>Torii.listenForBlocksStream()</code></li><li>and so on</li></ul><p><code>Torii</code> is a stateless object, a compendium of methods. You can look at it as if it is a class with only static methods. Each method has its own <em>requirements</em> to be passed in — some of them only need an HTTP transport and Iroha Torii Telemetry URL, others — a WebSocket transport and Iroha Torii API URL. To better understand how <code>Torii</code> is used, look at this example:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Torii } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { VersionedSignedQueryRequest } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// --snip--</span></span>
<span class="line"><span style="color:#F97583;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">query</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">VersionedSignedQueryRequest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">result</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> Torii.</span><span style="color:#B392F0;">request</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  {</span></span>
<span class="line"><span style="color:#E1E4E8;">    fetch,</span></span>
<span class="line"><span style="color:#E1E4E8;">    apiURL: </span><span style="color:#9ECBFF;">&#39;http://127.0.0.1:8080&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  query,</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Torii } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { VersionedSignedQueryRequest } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// --snip--</span></span>
<span class="line"><span style="color:#D73A49;">declare</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">query</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">VersionedSignedQueryRequest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">result</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> Torii.</span><span style="color:#6F42C1;">request</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  {</span></span>
<span class="line"><span style="color:#24292E;">    fetch,</span></span>
<span class="line"><span style="color:#24292E;">    apiURL: </span><span style="color:#032F62;">&#39;http://127.0.0.1:8080&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  query,</span></span>
<span class="line"><span style="color:#24292E;">)</span></span></code></pre></div><p>In this example, we pass <code>fetch</code> (the HTTP transport) and <code>apiURL</code> as the first parameter, and the query itself as the second.</p><p>To work with <code>Torii</code>, we need to know Iroha Torii URLs. Our Iroha Peer is configured to listen for API endpoints at <code>http://127.0.0.1:8080</code> and for telemetry endpoints at <code>http://127.0.0.1:8081</code>. Then, we need to provide appropriate HTTP / WebSocket adapters which <code>Torii</code> will use<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>. These adapters depend on the environment in which you are going to use <code>@iroha2/client</code>.</p><p>In Node.js, the full list of <code>Torii</code> requirements (i.e. covering all its methods) will look like this:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  ToriiRequirementsForApiHttp,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ToriiRequirementsForApiWebSocket,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ToriiRequirementsForTelemetry,</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { adapter </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> WS } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client/web-socket/node&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> nodeFetch </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;node-fetch&#39;</span></span>
<span class="line"><span style="color:#6A737D;">// another alternative</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { fetch </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> undiciFetch } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;undici&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">toriiRequirements</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ToriiRequirementsForApiHttp</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">ToriiRequirementsForApiWebSocket</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">ToriiRequirementsForTelemetry</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  apiURL: </span><span style="color:#9ECBFF;">&#39;http://127.0.0.1:8080&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  telemetryURL: </span><span style="color:#9ECBFF;">&#39;http://127.0.0.1:8081&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ws: </span><span style="color:#79B8FF;">WS</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// type assertion is acceptable here</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// you can pass `undiciFetch` here as well</span></span>
<span class="line"><span style="color:#E1E4E8;">  fetch: nodeFetch </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">typeof</span><span style="color:#E1E4E8;"> fetch,</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  ToriiRequirementsForApiHttp,</span></span>
<span class="line"><span style="color:#24292E;">  ToriiRequirementsForApiWebSocket,</span></span>
<span class="line"><span style="color:#24292E;">  ToriiRequirementsForTelemetry,</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { adapter </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> WS } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client/web-socket/node&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> nodeFetch </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;node-fetch&#39;</span></span>
<span class="line"><span style="color:#6A737D;">// another alternative</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { fetch </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> undiciFetch } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;undici&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">toriiRequirements</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ToriiRequirementsForApiHttp</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">ToriiRequirementsForApiWebSocket</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">ToriiRequirementsForTelemetry</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  apiURL: </span><span style="color:#032F62;">&#39;http://127.0.0.1:8080&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  telemetryURL: </span><span style="color:#032F62;">&#39;http://127.0.0.1:8081&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  ws: </span><span style="color:#005CC5;">WS</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// type assertion is acceptable here</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// you can pass `undiciFetch` here as well</span></span>
<span class="line"><span style="color:#24292E;">  fetch: nodeFetch </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> fetch,</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>In the example above, we use <a href="https://www.npmjs.com/package/node-fetch" target="_blank" rel="noreferrer"><code>node-fetch</code></a> package which implements <a href="https://fetch.spec.whatwg.org/#fetch-method" target="_blank" rel="noreferrer">Fetch API</a> in Node.js. However, you can use <a href="https://undici.nodejs.org/#/?id=undicifetchinput-init-promise" target="_blank" rel="noreferrer"><code>undici</code></a> as well.</p></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p><code>fetch: nodeFetch as typeof fetch</code> type assertion is acceptable here for a reason. <code>Torii</code> expects the &quot;classic&quot;, native <code>fetch</code> function, which is available natively in Browser. However, both <code>node-fetch</code> and <code>undici</code> don&#39;t provide <code>fetch</code> that is 100% compatible with the native one. Since <code>Torii</code> doesn&#39;t rely on those corner-features that are partially provided by <code>node-fetch</code> and <code>undici</code>, it&#39;s fine to ignore the TypeScript error here.</p></div><p>And here is a sample of full <code>Torii</code> in-Browser requirements:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  ToriiRequirementsForApiHttp,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ToriiRequirementsForApiWebSocket,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ToriiRequirementsForTelemetry,</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { adapter </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> WS } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client/web-socket/native&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">toriiRequirements</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ToriiRequirementsForApiHttp</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">ToriiRequirementsForApiWebSocket</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">ToriiRequirementsForTelemetry</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  apiURL: </span><span style="color:#9ECBFF;">&#39;http://127.0.0.1:8080&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  telemetryURL: </span><span style="color:#9ECBFF;">&#39;http://127.0.0.1:8081&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ws: </span><span style="color:#79B8FF;">WS</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  fetch:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// passing globally available `fetch`, but binding it to `window`</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// to avoid `TypeError: &quot;&#39;fetch&#39; called on an</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//           object that does not implement interface Window.&quot;`</span></span>
<span class="line"><span style="color:#E1E4E8;">    fetch.</span><span style="color:#B392F0;">bind</span><span style="color:#E1E4E8;">(window),</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  ToriiRequirementsForApiHttp,</span></span>
<span class="line"><span style="color:#24292E;">  ToriiRequirementsForApiWebSocket,</span></span>
<span class="line"><span style="color:#24292E;">  ToriiRequirementsForTelemetry,</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { adapter </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> WS } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client/web-socket/native&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">toriiRequirements</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ToriiRequirementsForApiHttp</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">ToriiRequirementsForApiWebSocket</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">ToriiRequirementsForTelemetry</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  apiURL: </span><span style="color:#032F62;">&#39;http://127.0.0.1:8080&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  telemetryURL: </span><span style="color:#032F62;">&#39;http://127.0.0.1:8081&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  ws: </span><span style="color:#005CC5;">WS</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  fetch:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// passing globally available `fetch`, but binding it to `window`</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// to avoid `TypeError: &quot;&#39;fetch&#39; called on an</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//           object that does not implement interface Window.&quot;`</span></span>
<span class="line"><span style="color:#24292E;">    fetch.</span><span style="color:#6F42C1;">bind</span><span style="color:#24292E;">(window),</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>We make <code>fetch.bind(window)</code> to avoid <code>TypeError: &quot;&#39;fetch&#39; called on an object that does not implement interface Window.&quot;</code>.</p></div><p>Great! Now we have <code>signer</code> and <code>Torii</code> requirements to work with. Finally, we can create a <code>Client</code>:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Client, Signer, ToriiRequirementsForApiHttp } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Executable } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// --snip--</span></span>
<span class="line"><span style="color:#F97583;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">signer</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Signer</span></span>
<span class="line"><span style="color:#F97583;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">toriiRequirements</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ToriiRequirementsForApiHttp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">client</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Client</span><span style="color:#E1E4E8;">({ signer })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// `Client` will sign &amp; wrap `Executable` into `VersionedSignedTransaction`</span></span>
<span class="line"><span style="color:#F97583;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">exec</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Executable</span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.</span><span style="color:#B392F0;">submitExecutable</span><span style="color:#E1E4E8;">(toriiRequirements, exec)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Client, Signer, ToriiRequirementsForApiHttp } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Executable } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// --snip--</span></span>
<span class="line"><span style="color:#D73A49;">declare</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">signer</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Signer</span></span>
<span class="line"><span style="color:#D73A49;">declare</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">toriiRequirements</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ToriiRequirementsForApiHttp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">client</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Client</span><span style="color:#24292E;">({ signer })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// `Client` will sign &amp; wrap `Executable` into `VersionedSignedTransaction`</span></span>
<span class="line"><span style="color:#D73A49;">declare</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">exec</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Executable</span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.</span><span style="color:#6F42C1;">submitExecutable</span><span style="color:#24292E;">(toriiRequirements, exec)</span></span></code></pre></div><p><code>Client</code> provides useful utilities for transactions and queries. You can also use <code>Torii</code> to communicate with the endpoints directly. <code>Signer</code> is accessible with <code>client.signer</code>.</p><h2 id="_3-registering-a-domain" tabindex="-1">3. Registering a Domain <a class="header-anchor" href="#_3-registering-a-domain" aria-label="Permalink to &quot;3. Registering a Domain&quot;">​</a></h2><p>Here we see how similar the JavaScript code is to the Rust counterpart. It should be emphasised that the JavaScript library is a thin wrapper: It doesn&#39;t provide any special builder structures, meaning you have to work with bare-bones compiled Data Model structures and define all internal fields explicitly.</p><p>Doubly so, since JavaScript employs many implicit conversions, we highly recommend that you employ TypeScript. This makes many errors far easier to debug, but, unfortunately, results in more boilerplates.</p><p>Let&#39;s register a new domain named <code>looking_glass</code> using our current account, <em>alice@wondeland</em>.</p><p>First, we need to import necessary models and a pre-configured client instance:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Client, ToriiRequirementsForApiHttp } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  DomainId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  EvaluatesToRegistrableBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Executable,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Expression,</span></span>
<span class="line"><span style="color:#E1E4E8;">  IdentifiableBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Instruction,</span></span>
<span class="line"><span style="color:#E1E4E8;">  MapNameValue,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Metadata,</span></span>
<span class="line"><span style="color:#E1E4E8;">  NewDomain,</span></span>
<span class="line"><span style="color:#E1E4E8;">  OptionIpfsPath,</span></span>
<span class="line"><span style="color:#E1E4E8;">  QueryBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  RegisterBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Value,</span></span>
<span class="line"><span style="color:#E1E4E8;">  VecInstruction,</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// --snip--</span></span>
<span class="line"><span style="color:#F97583;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">client</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Client</span></span>
<span class="line"><span style="color:#F97583;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">toriiRequirements</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ToriiRequirementsForApiHttp</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Client, ToriiRequirementsForApiHttp } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  DomainId,</span></span>
<span class="line"><span style="color:#24292E;">  EvaluatesToRegistrableBox,</span></span>
<span class="line"><span style="color:#24292E;">  Executable,</span></span>
<span class="line"><span style="color:#24292E;">  Expression,</span></span>
<span class="line"><span style="color:#24292E;">  IdentifiableBox,</span></span>
<span class="line"><span style="color:#24292E;">  Instruction,</span></span>
<span class="line"><span style="color:#24292E;">  MapNameValue,</span></span>
<span class="line"><span style="color:#24292E;">  Metadata,</span></span>
<span class="line"><span style="color:#24292E;">  NewDomain,</span></span>
<span class="line"><span style="color:#24292E;">  OptionIpfsPath,</span></span>
<span class="line"><span style="color:#24292E;">  QueryBox,</span></span>
<span class="line"><span style="color:#24292E;">  RegisterBox,</span></span>
<span class="line"><span style="color:#24292E;">  Value,</span></span>
<span class="line"><span style="color:#24292E;">  VecInstruction,</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// --snip--</span></span>
<span class="line"><span style="color:#D73A49;">declare</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">client</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Client</span></span>
<span class="line"><span style="color:#D73A49;">declare</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">toriiRequirements</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ToriiRequirementsForApiHttp</span></span></code></pre></div><p>To register a new domain, we need to submit a transaction with a single instruction: to register a new domain. Let&#39;s wrap it all in an async function:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark has-highlighted-lines vp-code-dark"><code><span class="line"><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">registerDomain</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">domainName</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">registerBox</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RegisterBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    object: </span><span style="color:#B392F0;">EvaluatesToRegistrableBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      expression: </span><span style="color:#B392F0;">Expression</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;Raw&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Value</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&#39;Identifiable&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">IdentifiableBox</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;NewDomain&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">NewDomain</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">              id: </span><span style="color:#B392F0;">DomainId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">                name: domainName, </span></span>
<span class="line"><span style="color:#E1E4E8;">              }),</span></span>
<span class="line"><span style="color:#E1E4E8;">              metadata: </span><span style="color:#B392F0;">Metadata</span><span style="color:#E1E4E8;">({ map: </span><span style="color:#B392F0;">MapNameValue</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Map</span><span style="color:#E1E4E8;">()) }),</span></span>
<span class="line"><span style="color:#E1E4E8;">              logo: </span><span style="color:#B392F0;">OptionIpfsPath</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;None&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">            }),</span></span>
<span class="line"><span style="color:#E1E4E8;">          ),</span></span>
<span class="line"><span style="color:#E1E4E8;">        ),</span></span>
<span class="line"><span style="color:#E1E4E8;">      ),</span></span>
<span class="line"><span style="color:#E1E4E8;">    }),</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.</span><span style="color:#B392F0;">submitExecutable</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    toriiRequirements,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Executable</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Instructions&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">VecInstruction</span><span style="color:#E1E4E8;">([</span><span style="color:#B392F0;">Instruction</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Register&#39;</span><span style="color:#E1E4E8;">, registerBox)])),</span></span>
<span class="line"><span style="color:#E1E4E8;">  )</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light has-highlighted-lines vp-code-light"><code><span class="line"><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">registerDomain</span><span style="color:#24292E;">(</span><span style="color:#E36209;">domainName</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">registerBox</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RegisterBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    object: </span><span style="color:#6F42C1;">EvaluatesToRegistrableBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">      expression: </span><span style="color:#6F42C1;">Expression</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;Raw&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Value</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&#39;Identifiable&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">IdentifiableBox</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;NewDomain&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">NewDomain</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">              id: </span><span style="color:#6F42C1;">DomainId</span><span style="color:#24292E;">({</span></span>
<span class="line highlighted"><span style="color:#24292E;">                name: domainName, </span></span>
<span class="line"><span style="color:#24292E;">              }),</span></span>
<span class="line"><span style="color:#24292E;">              metadata: </span><span style="color:#6F42C1;">Metadata</span><span style="color:#24292E;">({ map: </span><span style="color:#6F42C1;">MapNameValue</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Map</span><span style="color:#24292E;">()) }),</span></span>
<span class="line"><span style="color:#24292E;">              logo: </span><span style="color:#6F42C1;">OptionIpfsPath</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;None&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">            }),</span></span>
<span class="line"><span style="color:#24292E;">          ),</span></span>
<span class="line"><span style="color:#24292E;">        ),</span></span>
<span class="line"><span style="color:#24292E;">      ),</span></span>
<span class="line"><span style="color:#24292E;">    }),</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.</span><span style="color:#6F42C1;">submitExecutable</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    toriiRequirements,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Executable</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Instructions&#39;</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">VecInstruction</span><span style="color:#24292E;">([</span><span style="color:#6F42C1;">Instruction</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Register&#39;</span><span style="color:#24292E;">, registerBox)])),</span></span>
<span class="line"><span style="color:#24292E;">  )</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>Which we use to register the domain like so:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">registerDomain</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;looking_glass&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">registerDomain</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;looking_glass&#39;</span><span style="color:#24292E;">)</span></span></code></pre></div><p>We can also use Query API to ensure that the new domain is created. Let&#39;s create another function that wraps that functionality:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark has-highlighted-lines vp-code-dark"><code><span class="line"><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ensureDomainExistence</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">domainName</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Query all domains</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">result</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.</span><span style="color:#B392F0;">requestWithQueryBox</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    toriiRequirements,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">QueryBox</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;FindAllDomains&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">  )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Display the request status</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;%o&#39;</span><span style="color:#E1E4E8;">, result)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Obtain the domain</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">domain</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Ok&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    .result.enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Vec&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> x.enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Identifiable&#39;</span><span style="color:#E1E4E8;">).enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Domain&#39;</span><span style="color:#E1E4E8;">))</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">find</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> x.id.name </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> domainName) </span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Throw an error if the domain is unavailable</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">domain) </span><span style="color:#F97583;">throw</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Not found&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light has-highlighted-lines vp-code-light"><code><span class="line"><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ensureDomainExistence</span><span style="color:#24292E;">(</span><span style="color:#E36209;">domainName</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Query all domains</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">result</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.</span><span style="color:#6F42C1;">requestWithQueryBox</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    toriiRequirements,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">QueryBox</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;FindAllDomains&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">  )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Display the request status</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;%o&#39;</span><span style="color:#24292E;">, result)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Obtain the domain</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">domain</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#24292E;">    .</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Ok&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    .result.enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Vec&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    .</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">x</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> x.enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Identifiable&#39;</span><span style="color:#24292E;">).enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Domain&#39;</span><span style="color:#24292E;">))</span></span>
<span class="line highlighted"><span style="color:#24292E;">    .</span><span style="color:#6F42C1;">find</span><span style="color:#24292E;">((</span><span style="color:#E36209;">x</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> x.id.name </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> domainName) </span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Throw an error if the domain is unavailable</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">domain) </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Not found&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>Now you can ensure that domain is created by calling:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ensureDomainExistence</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;looking_glass&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ensureDomainExistence</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;looking_glass&#39;</span><span style="color:#24292E;">)</span></span></code></pre></div><h2 id="_4-registering-an-account" tabindex="-1">4. Registering an Account <a class="header-anchor" href="#_4-registering-an-account" aria-label="Permalink to &quot;4. Registering an Account&quot;">​</a></h2><p>Registering an account is a bit more involved than registering a domain. With a domain, the only concern is the domain name. However, with an account, there are a few more things to worry about.</p><p>First of all, we need to create an <code>AccountId</code>. Note that we can only register an account to an existing domain. The best UX design practices dictate that you should check if the requested domain exists <em>now</em>, and if it doesn&#39;t, suggest a fix to the user. After that, we can create a new account named <em>white_rabbit</em>.</p><p>Imports we need:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  AccountId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  DomainId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  EvaluatesToRegistrableBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Expression,</span></span>
<span class="line"><span style="color:#E1E4E8;">  IdentifiableBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Instruction,</span></span>
<span class="line"><span style="color:#E1E4E8;">  MapNameValue,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Metadata,</span></span>
<span class="line"><span style="color:#E1E4E8;">  NewAccount,</span></span>
<span class="line"><span style="color:#E1E4E8;">  PublicKey,</span></span>
<span class="line"><span style="color:#E1E4E8;">  RegisterBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Value,</span></span>
<span class="line"><span style="color:#E1E4E8;">  VecPublicKey,</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  AccountId,</span></span>
<span class="line"><span style="color:#24292E;">  DomainId,</span></span>
<span class="line"><span style="color:#24292E;">  EvaluatesToRegistrableBox,</span></span>
<span class="line"><span style="color:#24292E;">  Expression,</span></span>
<span class="line"><span style="color:#24292E;">  IdentifiableBox,</span></span>
<span class="line"><span style="color:#24292E;">  Instruction,</span></span>
<span class="line"><span style="color:#24292E;">  MapNameValue,</span></span>
<span class="line"><span style="color:#24292E;">  Metadata,</span></span>
<span class="line"><span style="color:#24292E;">  NewAccount,</span></span>
<span class="line"><span style="color:#24292E;">  PublicKey,</span></span>
<span class="line"><span style="color:#24292E;">  RegisterBox,</span></span>
<span class="line"><span style="color:#24292E;">  Value,</span></span>
<span class="line"><span style="color:#24292E;">  VecPublicKey,</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span></code></pre></div><p>The <code>AccountId</code> structure:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">accountId</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">AccountId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&#39;white_rabbit&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  domain_id: </span><span style="color:#B392F0;">DomainId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    name: </span><span style="color:#9ECBFF;">&#39;looking_glass&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  }),</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">accountId</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AccountId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&#39;white_rabbit&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  domain_id: </span><span style="color:#6F42C1;">DomainId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    name: </span><span style="color:#032F62;">&#39;looking_glass&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  }),</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><p>Second, you should provide the account with a public key. It is tempting to generate both it and the private key at this time, but it isn&#39;t the brightest idea. Remember that <em>the white_rabbit</em> trusts <em>you, alice@wonderland,</em> to create an account for them in the domain <em>looking_glass</em>, <strong>but doesn&#39;t want you to have access to that account after creation</strong>.</p><p>If you gave <em>white_rabbit</em> a key that you generated yourself, how would they know if you don&#39;t have a copy of their private key? Instead, the best way is to <strong>ask</strong> <em>white_rabbit</em> to generate a new key-pair, and give you the public half of it.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">pubKey</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PublicKey</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  payload: </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Uint8Array</span><span style="color:#E1E4E8;">([</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">/* put bytes here */</span></span>
<span class="line"><span style="color:#E1E4E8;">  ]),</span></span>
<span class="line"><span style="color:#E1E4E8;">  digest_function: </span><span style="color:#9ECBFF;">&#39;some_digest&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">pubKey</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PublicKey</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  payload: </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Uint8Array</span><span style="color:#24292E;">([</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">/* put bytes here */</span></span>
<span class="line"><span style="color:#24292E;">  ]),</span></span>
<span class="line"><span style="color:#24292E;">  digest_function: </span><span style="color:#032F62;">&#39;some_digest&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><p>Only then do we build an instruction from it:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark has-highlighted-lines vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">registerAccountInstruction</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Instruction</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&#39;Register&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">RegisterBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    object: </span><span style="color:#B392F0;">EvaluatesToRegistrableBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      expression: </span><span style="color:#B392F0;">Expression</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;Raw&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Value</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&#39;Identifiable&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">IdentifiableBox</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;NewAccount&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">NewAccount</span><span style="color:#E1E4E8;">({</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">              id: accountId, </span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">              signatories: </span><span style="color:#B392F0;">VecPublicKey</span><span style="color:#E1E4E8;">([pubKey]),</span></span>
<span class="line"><span style="color:#E1E4E8;">              metadata: </span><span style="color:#B392F0;">Metadata</span><span style="color:#E1E4E8;">({ map: </span><span style="color:#B392F0;">MapNameValue</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Map</span><span style="color:#E1E4E8;">()) }),</span></span>
<span class="line"><span style="color:#E1E4E8;">            }),</span></span>
<span class="line"><span style="color:#E1E4E8;">          ),</span></span>
<span class="line"><span style="color:#E1E4E8;">        ),</span></span>
<span class="line"><span style="color:#E1E4E8;">      ),</span></span>
<span class="line"><span style="color:#E1E4E8;">    }),</span></span>
<span class="line"><span style="color:#E1E4E8;">  }),</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light has-highlighted-lines vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">registerAccountInstruction</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Instruction</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&#39;Register&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">RegisterBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    object: </span><span style="color:#6F42C1;">EvaluatesToRegistrableBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">      expression: </span><span style="color:#6F42C1;">Expression</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;Raw&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Value</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&#39;Identifiable&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">IdentifiableBox</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;NewAccount&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">NewAccount</span><span style="color:#24292E;">({</span></span>
<span class="line highlighted"><span style="color:#24292E;">              id: accountId, </span></span>
<span class="line highlighted"><span style="color:#24292E;">              signatories: </span><span style="color:#6F42C1;">VecPublicKey</span><span style="color:#24292E;">([pubKey]),</span></span>
<span class="line"><span style="color:#24292E;">              metadata: </span><span style="color:#6F42C1;">Metadata</span><span style="color:#24292E;">({ map: </span><span style="color:#6F42C1;">MapNameValue</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Map</span><span style="color:#24292E;">()) }),</span></span>
<span class="line"><span style="color:#24292E;">            }),</span></span>
<span class="line"><span style="color:#24292E;">          ),</span></span>
<span class="line"><span style="color:#24292E;">        ),</span></span>
<span class="line"><span style="color:#24292E;">      ),</span></span>
<span class="line"><span style="color:#24292E;">    }),</span></span>
<span class="line"><span style="color:#24292E;">  }),</span></span>
<span class="line"><span style="color:#24292E;">)</span></span></code></pre></div><p>Which is then wrapped in a transaction and submitted to the peer the same way as in the previous section when we registered a domain.</p><h2 id="_5-registering-and-minting-assets" tabindex="-1">5. Registering and minting assets <a class="header-anchor" href="#_5-registering-and-minting-assets" aria-label="Permalink to &quot;5. Registering and minting assets&quot;">​</a></h2><p>Iroha has been built with few <a href="./blockchain/assets.html">underlying assumptions</a> about what the assets need to be in terms of their value type and characteristics (fungible or non-fungible, mintable or non-mintable).</p><p>In JS, you can create a new asset with the following construction:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark has-highlighted-lines vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  AssetDefinition,</span></span>
<span class="line"><span style="color:#E1E4E8;">  AssetDefinitionId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  AssetValueType,</span></span>
<span class="line"><span style="color:#E1E4E8;">  DomainId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  EvaluatesToRegistrableBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Expression,</span></span>
<span class="line"><span style="color:#E1E4E8;">  IdentifiableBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Instruction,</span></span>
<span class="line"><span style="color:#E1E4E8;">  MapNameValue,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Metadata,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Mintable,</span></span>
<span class="line"><span style="color:#E1E4E8;">  RegisterBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Value,</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">time</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">AssetDefinition</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  value_type: </span><span style="color:#B392F0;">AssetValueType</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Quantity&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">  id: </span><span style="color:#B392F0;">AssetDefinitionId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    name: </span><span style="color:#9ECBFF;">&#39;time&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    domain_id: </span><span style="color:#B392F0;">DomainId</span><span style="color:#E1E4E8;">({ name: </span><span style="color:#9ECBFF;">&#39;looking_glass&#39;</span><span style="color:#E1E4E8;"> }),</span></span>
<span class="line"><span style="color:#E1E4E8;">  }),</span></span>
<span class="line"><span style="color:#E1E4E8;">  metadata: </span><span style="color:#B392F0;">Metadata</span><span style="color:#E1E4E8;">({ map: </span><span style="color:#B392F0;">MapNameValue</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Map</span><span style="color:#E1E4E8;">()) }),</span></span>
<span class="line"><span style="color:#E1E4E8;">  mintable: </span><span style="color:#B392F0;">Mintable</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Infinitely&#39;</span><span style="color:#E1E4E8;">), </span><span style="color:#6A737D;">// If only we could mint more time.</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">register</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Instruction</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&#39;Register&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">RegisterBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    object: </span><span style="color:#B392F0;">EvaluatesToRegistrableBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      expression: </span><span style="color:#B392F0;">Expression</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;Raw&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Value</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Identifiable&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">IdentifiableBox</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;AssetDefinition&#39;</span><span style="color:#E1E4E8;">, time)), </span></span>
<span class="line"><span style="color:#E1E4E8;">      ),</span></span>
<span class="line"><span style="color:#E1E4E8;">    }),</span></span>
<span class="line"><span style="color:#E1E4E8;">  }),</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light has-highlighted-lines vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  AssetDefinition,</span></span>
<span class="line"><span style="color:#24292E;">  AssetDefinitionId,</span></span>
<span class="line"><span style="color:#24292E;">  AssetValueType,</span></span>
<span class="line"><span style="color:#24292E;">  DomainId,</span></span>
<span class="line"><span style="color:#24292E;">  EvaluatesToRegistrableBox,</span></span>
<span class="line"><span style="color:#24292E;">  Expression,</span></span>
<span class="line"><span style="color:#24292E;">  IdentifiableBox,</span></span>
<span class="line"><span style="color:#24292E;">  Instruction,</span></span>
<span class="line"><span style="color:#24292E;">  MapNameValue,</span></span>
<span class="line"><span style="color:#24292E;">  Metadata,</span></span>
<span class="line"><span style="color:#24292E;">  Mintable,</span></span>
<span class="line"><span style="color:#24292E;">  RegisterBox,</span></span>
<span class="line"><span style="color:#24292E;">  Value,</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">time</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AssetDefinition</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  value_type: </span><span style="color:#6F42C1;">AssetValueType</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Quantity&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">  id: </span><span style="color:#6F42C1;">AssetDefinitionId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    name: </span><span style="color:#032F62;">&#39;time&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    domain_id: </span><span style="color:#6F42C1;">DomainId</span><span style="color:#24292E;">({ name: </span><span style="color:#032F62;">&#39;looking_glass&#39;</span><span style="color:#24292E;"> }),</span></span>
<span class="line"><span style="color:#24292E;">  }),</span></span>
<span class="line"><span style="color:#24292E;">  metadata: </span><span style="color:#6F42C1;">Metadata</span><span style="color:#24292E;">({ map: </span><span style="color:#6F42C1;">MapNameValue</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Map</span><span style="color:#24292E;">()) }),</span></span>
<span class="line"><span style="color:#24292E;">  mintable: </span><span style="color:#6F42C1;">Mintable</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Infinitely&#39;</span><span style="color:#24292E;">), </span><span style="color:#6A737D;">// If only we could mint more time.</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">register</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Instruction</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&#39;Register&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">RegisterBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    object: </span><span style="color:#6F42C1;">EvaluatesToRegistrableBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">      expression: </span><span style="color:#6F42C1;">Expression</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;Raw&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line highlighted"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Value</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Identifiable&#39;</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">IdentifiableBox</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;AssetDefinition&#39;</span><span style="color:#24292E;">, time)), </span></span>
<span class="line"><span style="color:#24292E;">      ),</span></span>
<span class="line"><span style="color:#24292E;">    }),</span></span>
<span class="line"><span style="color:#24292E;">  }),</span></span>
<span class="line"><span style="color:#24292E;">)</span></span></code></pre></div><p>Pay attention to the fact that we have defined the asset as <code>Mintable(&#39;Not&#39;)</code>. What this means is that we cannot create more of <code>time</code>. The late bunny will always be late, because even the super-user of the blockchain cannot mint more of <code>time</code> than already exists in the genesis block.</p><p>This means that no matter how hard the <em>white_rabbit</em> tries, the time that he has is the time that was given to him at genesis. And since we haven&#39;t defined any time in the domain <em>looking_glass</em> at genesis and defined time in a non-mintable fashion afterwards, the <em>white_rabbit</em> is doomed to always be late.</p><p>If we had set <code>mintable: Mintable(&#39;Infinitely&#39;)</code> on our time asset, we could mint it:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  AccountId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  AssetDefinitionId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  AssetId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  DomainId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  EvaluatesToIdBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  EvaluatesToValue,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Expression,</span></span>
<span class="line"><span style="color:#E1E4E8;">  IdBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Instruction,</span></span>
<span class="line"><span style="color:#E1E4E8;">  MintBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  NumericValue,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Value,</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">mint</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Instruction</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&#39;Mint&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">MintBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    object: </span><span style="color:#B392F0;">EvaluatesToValue</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      expression: </span><span style="color:#B392F0;">Expression</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Raw&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">Value</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Numeric&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">NumericValue</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;U32&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">42</span><span style="color:#E1E4E8;">))),</span></span>
<span class="line"><span style="color:#E1E4E8;">    }),</span></span>
<span class="line"><span style="color:#E1E4E8;">    destination_id: </span><span style="color:#B392F0;">EvaluatesToIdBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      expression: </span><span style="color:#B392F0;">Expression</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;Raw&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Value</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&#39;Id&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">IdBox</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;AssetId&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">AssetId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">              account_id: </span><span style="color:#B392F0;">AccountId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">                name: </span><span style="color:#9ECBFF;">&#39;alice&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                domain_id: </span><span style="color:#B392F0;">DomainId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">                  name: </span><span style="color:#9ECBFF;">&#39;wonderland&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                }),</span></span>
<span class="line"><span style="color:#E1E4E8;">              }),</span></span>
<span class="line"><span style="color:#E1E4E8;">              definition_id: </span><span style="color:#B392F0;">AssetDefinitionId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">                name: </span><span style="color:#9ECBFF;">&#39;time&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                domain_id: </span><span style="color:#B392F0;">DomainId</span><span style="color:#E1E4E8;">({ name: </span><span style="color:#9ECBFF;">&#39;looking_glass&#39;</span><span style="color:#E1E4E8;"> }),</span></span>
<span class="line"><span style="color:#E1E4E8;">              }),</span></span>
<span class="line"><span style="color:#E1E4E8;">            }),</span></span>
<span class="line"><span style="color:#E1E4E8;">          ),</span></span>
<span class="line"><span style="color:#E1E4E8;">        ),</span></span>
<span class="line"><span style="color:#E1E4E8;">      ),</span></span>
<span class="line"><span style="color:#E1E4E8;">    }),</span></span>
<span class="line"><span style="color:#E1E4E8;">  }),</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  AccountId,</span></span>
<span class="line"><span style="color:#24292E;">  AssetDefinitionId,</span></span>
<span class="line"><span style="color:#24292E;">  AssetId,</span></span>
<span class="line"><span style="color:#24292E;">  DomainId,</span></span>
<span class="line"><span style="color:#24292E;">  EvaluatesToIdBox,</span></span>
<span class="line"><span style="color:#24292E;">  EvaluatesToValue,</span></span>
<span class="line"><span style="color:#24292E;">  Expression,</span></span>
<span class="line"><span style="color:#24292E;">  IdBox,</span></span>
<span class="line"><span style="color:#24292E;">  Instruction,</span></span>
<span class="line"><span style="color:#24292E;">  MintBox,</span></span>
<span class="line"><span style="color:#24292E;">  NumericValue,</span></span>
<span class="line"><span style="color:#24292E;">  Value,</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">mint</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Instruction</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&#39;Mint&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">MintBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    object: </span><span style="color:#6F42C1;">EvaluatesToValue</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">      expression: </span><span style="color:#6F42C1;">Expression</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Raw&#39;</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">Value</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Numeric&#39;</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">NumericValue</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;U32&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">42</span><span style="color:#24292E;">))),</span></span>
<span class="line"><span style="color:#24292E;">    }),</span></span>
<span class="line"><span style="color:#24292E;">    destination_id: </span><span style="color:#6F42C1;">EvaluatesToIdBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">      expression: </span><span style="color:#6F42C1;">Expression</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;Raw&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Value</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&#39;Id&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">IdBox</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;AssetId&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">AssetId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">              account_id: </span><span style="color:#6F42C1;">AccountId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">                name: </span><span style="color:#032F62;">&#39;alice&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                domain_id: </span><span style="color:#6F42C1;">DomainId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">                  name: </span><span style="color:#032F62;">&#39;wonderland&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                }),</span></span>
<span class="line"><span style="color:#24292E;">              }),</span></span>
<span class="line"><span style="color:#24292E;">              definition_id: </span><span style="color:#6F42C1;">AssetDefinitionId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">                name: </span><span style="color:#032F62;">&#39;time&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                domain_id: </span><span style="color:#6F42C1;">DomainId</span><span style="color:#24292E;">({ name: </span><span style="color:#032F62;">&#39;looking_glass&#39;</span><span style="color:#24292E;"> }),</span></span>
<span class="line"><span style="color:#24292E;">              }),</span></span>
<span class="line"><span style="color:#24292E;">            }),</span></span>
<span class="line"><span style="color:#24292E;">          ),</span></span>
<span class="line"><span style="color:#24292E;">        ),</span></span>
<span class="line"><span style="color:#24292E;">      ),</span></span>
<span class="line"><span style="color:#24292E;">    }),</span></span>
<span class="line"><span style="color:#24292E;">  }),</span></span>
<span class="line"><span style="color:#24292E;">)</span></span></code></pre></div><p>Again it should be emphasised that an Iroha 2 network is strongly typed. You need to take special care to make sure that only unsigned integers are passed to the <code>Value(&#39;U32&#39;, ...)</code> factory method. Fixed precision values also need to be taken into consideration. Any attempt to add to or subtract from a negative Fixed-precision value will result in an error.</p><h2 id="_6-transferring-assets" tabindex="-1">6. Transferring assets <a class="header-anchor" href="#_6-transferring-assets" aria-label="Permalink to &quot;6. Transferring assets&quot;">​</a></h2><p>After minting the assets, you can transfer them to another account. In the example below, Alice transfers to Mouse 100 units of <code>time</code> asset:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  AccountId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  AssetDefinitionId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  AssetId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  DomainId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  EvaluatesToIdBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  EvaluatesToValue,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Expression,</span></span>
<span class="line"><span style="color:#E1E4E8;">  IdBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Instruction,</span></span>
<span class="line"><span style="color:#E1E4E8;">  NumericValue,</span></span>
<span class="line"><span style="color:#E1E4E8;">  TransferBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Value,</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">domainId</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DomainId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&#39;wonderland&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">assetDefinitionId</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">AssetDefinitionId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&#39;time&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  domain_id: domainId,</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">amountToTransfer</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Value</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Numeric&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">NumericValue</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;U32&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">fromAccount</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">AccountId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&#39;alice&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  domain_id: domainId,</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">toAccount</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">AccountId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&#39;mouse&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  domain_id: domainId,</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">evaluatesToAssetId</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">assetId</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">AssetId</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">EvaluatesToIdBox</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">EvaluatesToIdBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    expression: </span><span style="color:#B392F0;">Expression</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Raw&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">Value</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Id&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">IdBox</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;AssetId&#39;</span><span style="color:#E1E4E8;">, assetId))),</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">transferAssetInstruction</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Instruction</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&#39;Transfer&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">TransferBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    source_id: </span><span style="color:#B392F0;">evaluatesToAssetId</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">AssetId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">        definition_id: assetDefinitionId,</span></span>
<span class="line"><span style="color:#E1E4E8;">        account_id: fromAccount,</span></span>
<span class="line"><span style="color:#E1E4E8;">      }),</span></span>
<span class="line"><span style="color:#E1E4E8;">    ),</span></span>
<span class="line"><span style="color:#E1E4E8;">    destination_id: </span><span style="color:#B392F0;">evaluatesToAssetId</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">AssetId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">        definition_id: assetDefinitionId,</span></span>
<span class="line"><span style="color:#E1E4E8;">        account_id: toAccount,</span></span>
<span class="line"><span style="color:#E1E4E8;">      }),</span></span>
<span class="line"><span style="color:#E1E4E8;">    ),</span></span>
<span class="line"><span style="color:#E1E4E8;">    object: </span><span style="color:#B392F0;">EvaluatesToValue</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      expression: </span><span style="color:#B392F0;">Expression</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Raw&#39;</span><span style="color:#E1E4E8;">, amountToTransfer),</span></span>
<span class="line"><span style="color:#E1E4E8;">    }),</span></span>
<span class="line"><span style="color:#E1E4E8;">  }),</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  AccountId,</span></span>
<span class="line"><span style="color:#24292E;">  AssetDefinitionId,</span></span>
<span class="line"><span style="color:#24292E;">  AssetId,</span></span>
<span class="line"><span style="color:#24292E;">  DomainId,</span></span>
<span class="line"><span style="color:#24292E;">  EvaluatesToIdBox,</span></span>
<span class="line"><span style="color:#24292E;">  EvaluatesToValue,</span></span>
<span class="line"><span style="color:#24292E;">  Expression,</span></span>
<span class="line"><span style="color:#24292E;">  IdBox,</span></span>
<span class="line"><span style="color:#24292E;">  Instruction,</span></span>
<span class="line"><span style="color:#24292E;">  NumericValue,</span></span>
<span class="line"><span style="color:#24292E;">  TransferBox,</span></span>
<span class="line"><span style="color:#24292E;">  Value,</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">domainId</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DomainId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&#39;wonderland&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">assetDefinitionId</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AssetDefinitionId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&#39;time&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  domain_id: domainId,</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">amountToTransfer</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Value</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Numeric&#39;</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">NumericValue</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;U32&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">fromAccount</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AccountId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&#39;alice&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  domain_id: domainId,</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">toAccount</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AccountId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&#39;mouse&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  domain_id: domainId,</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">evaluatesToAssetId</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">assetId</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AssetId</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">EvaluatesToIdBox</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">EvaluatesToIdBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    expression: </span><span style="color:#6F42C1;">Expression</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Raw&#39;</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">Value</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Id&#39;</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">IdBox</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;AssetId&#39;</span><span style="color:#24292E;">, assetId))),</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">transferAssetInstruction</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Instruction</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&#39;Transfer&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">TransferBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    source_id: </span><span style="color:#6F42C1;">evaluatesToAssetId</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">AssetId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        definition_id: assetDefinitionId,</span></span>
<span class="line"><span style="color:#24292E;">        account_id: fromAccount,</span></span>
<span class="line"><span style="color:#24292E;">      }),</span></span>
<span class="line"><span style="color:#24292E;">    ),</span></span>
<span class="line"><span style="color:#24292E;">    destination_id: </span><span style="color:#6F42C1;">evaluatesToAssetId</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">AssetId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        definition_id: assetDefinitionId,</span></span>
<span class="line"><span style="color:#24292E;">        account_id: toAccount,</span></span>
<span class="line"><span style="color:#24292E;">      }),</span></span>
<span class="line"><span style="color:#24292E;">    ),</span></span>
<span class="line"><span style="color:#24292E;">    object: </span><span style="color:#6F42C1;">EvaluatesToValue</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">      expression: </span><span style="color:#6F42C1;">Expression</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Raw&#39;</span><span style="color:#24292E;">, amountToTransfer),</span></span>
<span class="line"><span style="color:#24292E;">    }),</span></span>
<span class="line"><span style="color:#24292E;">  }),</span></span>
<span class="line"><span style="color:#24292E;">)</span></span></code></pre></div><h2 id="_7-querying-for-domains-accounts-and-assets" tabindex="-1">7. Querying for Domains, Accounts and Assets <a class="header-anchor" href="#_7-querying-for-domains-accounts-and-assets" aria-label="Permalink to &quot;7. Querying for Domains, Accounts and Assets&quot;">​</a></h2><p>TODO</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Client, ToriiRequirementsForApiHttp } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { QueryBox } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">client</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Client</span></span>
<span class="line"><span style="color:#F97583;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">toriiRequirements</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ToriiRequirementsForApiHttp</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Client, ToriiRequirementsForApiHttp } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { QueryBox } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">declare</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">client</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Client</span></span>
<span class="line"><span style="color:#D73A49;">declare</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">toriiRequirements</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ToriiRequirementsForApiHttp</span></span></code></pre></div><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-SrAYg" id="tab-nJ4DqxW" checked="checked"><label for="tab-nJ4DqxW">Domains</label><input type="radio" name="group-SrAYg" id="tab-j5lBKoN"><label for="tab-j5lBKoN">Accounts</label><input type="radio" name="group-SrAYg" id="tab-Hi33dY0"><label for="tab-Hi33dY0">Assets</label></div><div class="blocks"><div class="language-ts vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">result</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.</span><span style="color:#B392F0;">requestWithQueryBox</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  toriiRequirements,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">QueryBox</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;FindAllDomains&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">domains</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Ok&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .result.enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Vec&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> x.enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Identifiable&#39;</span><span style="color:#E1E4E8;">).enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Domain&#39;</span><span style="color:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">domain</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">of</span><span style="color:#E1E4E8;"> domains) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">`Domain &quot;${</span><span style="color:#E1E4E8;">domain</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">name</span><span style="color:#9ECBFF;">}&quot; has ${</span><span style="color:#E1E4E8;">domain</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">accounts</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">size</span><span style="color:#9ECBFF;">} accounts`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">` and ${</span><span style="color:#E1E4E8;">domain</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">asset_definitions</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">size</span><span style="color:#9ECBFF;">} asset definitions`</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  )</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// =&gt; Domain &quot;wonderland&quot; has 5 accounts and 3 asset definitions</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">result</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.</span><span style="color:#6F42C1;">requestWithQueryBox</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  toriiRequirements,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">QueryBox</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;FindAllDomains&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">domains</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Ok&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  .result.enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Vec&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">x</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> x.enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Identifiable&#39;</span><span style="color:#24292E;">).enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Domain&#39;</span><span style="color:#24292E;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">domain</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">of</span><span style="color:#24292E;"> domains) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">`Domain &quot;${</span><span style="color:#24292E;">domain</span><span style="color:#032F62;">.</span><span style="color:#24292E;">id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">name</span><span style="color:#032F62;">}&quot; has ${</span><span style="color:#24292E;">domain</span><span style="color:#032F62;">.</span><span style="color:#24292E;">accounts</span><span style="color:#032F62;">.</span><span style="color:#24292E;">size</span><span style="color:#032F62;">} accounts`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">` and ${</span><span style="color:#24292E;">domain</span><span style="color:#032F62;">.</span><span style="color:#24292E;">asset_definitions</span><span style="color:#032F62;">.</span><span style="color:#24292E;">size</span><span style="color:#032F62;">} asset definitions`</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  )</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// =&gt; Domain &quot;wonderland&quot; has 5 accounts and 3 asset definitions</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">result</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.</span><span style="color:#B392F0;">requestWithQueryBox</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  toriiRequirements,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">QueryBox</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;FindAllAccounts&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">accounts</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Ok&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .result.enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Vec&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> x.enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Identifiable&#39;</span><span style="color:#E1E4E8;">).enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Account&#39;</span><span style="color:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">account</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">of</span><span style="color:#E1E4E8;"> accounts) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">`Account &quot;${</span><span style="color:#E1E4E8;">account</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">name</span><span style="color:#9ECBFF;">}@${</span><span style="color:#E1E4E8;">account</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">domain_id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">name</span><span style="color:#9ECBFF;">}&quot; `</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">`has ${</span><span style="color:#E1E4E8;">account</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">assets</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">size</span><span style="color:#9ECBFF;">} assets`</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  )</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// =&gt; Account &quot;alice@wonderland&quot; has 3 assets</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">result</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.</span><span style="color:#6F42C1;">requestWithQueryBox</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  toriiRequirements,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">QueryBox</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;FindAllAccounts&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">accounts</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Ok&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  .result.enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Vec&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">x</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> x.enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Identifiable&#39;</span><span style="color:#24292E;">).enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Account&#39;</span><span style="color:#24292E;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">account</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">of</span><span style="color:#24292E;"> accounts) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">`Account &quot;${</span><span style="color:#24292E;">account</span><span style="color:#032F62;">.</span><span style="color:#24292E;">id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">name</span><span style="color:#032F62;">}@${</span><span style="color:#24292E;">account</span><span style="color:#032F62;">.</span><span style="color:#24292E;">id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">domain_id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">name</span><span style="color:#032F62;">}&quot; `</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">`has ${</span><span style="color:#24292E;">account</span><span style="color:#032F62;">.</span><span style="color:#24292E;">assets</span><span style="color:#032F62;">.</span><span style="color:#24292E;">size</span><span style="color:#032F62;">} assets`</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  )</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// =&gt; Account &quot;alice@wonderland&quot; has 3 assets</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">result</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.</span><span style="color:#B392F0;">requestWithQueryBox</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  toriiRequirements,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">QueryBox</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;FindAllAssets&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">assets</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Ok&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .result.enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Vec&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> x.enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Identifiable&#39;</span><span style="color:#E1E4E8;">).enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Asset&#39;</span><span style="color:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">asset</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">of</span><span style="color:#E1E4E8;"> assets) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">`Asset &quot;${</span><span style="color:#E1E4E8;">asset</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">definition_id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">name</span><span style="color:#9ECBFF;">}#${</span><span style="color:#E1E4E8;">asset</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">definition_id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">domain_id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">name</span><span style="color:#9ECBFF;">}&quot; `</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">`at account &quot;${</span><span style="color:#E1E4E8;">asset</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">account_id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">name</span><span style="color:#9ECBFF;">}@${</span><span style="color:#E1E4E8;">asset</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">account_id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">domain_id</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">name</span><span style="color:#9ECBFF;">}&quot; `</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">`has type &quot;${</span><span style="color:#E1E4E8;">asset</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">value</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">enum</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">tag</span><span style="color:#9ECBFF;">}&quot;`</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  )</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// =&gt; Asset &quot;rose#wonderland&quot; at account &quot;alice@wonderland&quot; has type &quot;Quantity&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">result</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.</span><span style="color:#6F42C1;">requestWithQueryBox</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  toriiRequirements,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">QueryBox</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;FindAllAssets&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">assets</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Ok&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  .result.enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Vec&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">x</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> x.enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Identifiable&#39;</span><span style="color:#24292E;">).enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Asset&#39;</span><span style="color:#24292E;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">asset</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">of</span><span style="color:#24292E;"> assets) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">`Asset &quot;${</span><span style="color:#24292E;">asset</span><span style="color:#032F62;">.</span><span style="color:#24292E;">id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">definition_id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">name</span><span style="color:#032F62;">}#${</span><span style="color:#24292E;">asset</span><span style="color:#032F62;">.</span><span style="color:#24292E;">id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">definition_id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">domain_id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">name</span><span style="color:#032F62;">}&quot; `</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">`at account &quot;${</span><span style="color:#24292E;">asset</span><span style="color:#032F62;">.</span><span style="color:#24292E;">id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">account_id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">name</span><span style="color:#032F62;">}@${</span><span style="color:#24292E;">asset</span><span style="color:#032F62;">.</span><span style="color:#24292E;">id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">account_id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">domain_id</span><span style="color:#032F62;">.</span><span style="color:#24292E;">name</span><span style="color:#032F62;">}&quot; `</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">`has type &quot;${</span><span style="color:#24292E;">asset</span><span style="color:#032F62;">.</span><span style="color:#24292E;">value</span><span style="color:#032F62;">.</span><span style="color:#24292E;">enum</span><span style="color:#032F62;">.</span><span style="color:#24292E;">tag</span><span style="color:#032F62;">}&quot;`</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  )</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// =&gt; Asset &quot;rose#wonderland&quot; at account &quot;alice@wonderland&quot; has type &quot;Quantity&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></div></div><h2 id="_8-visualizing-outputs-in-web-ui" tabindex="-1">8. Visualizing outputs in Web UI <a class="header-anchor" href="#_8-visualizing-outputs-in-web-ui" aria-label="Permalink to &quot;8. Visualizing outputs in Web UI&quot;">​</a></h2><p>Finally, we should talk about visualising data. The Rust API is currently the most complete in terms of available queries and instructions. After all, this is the language in which Iroha 2 was built.</p><p>Let&#39;s build a small Vue 3 application that uses each API we&#39;ve discovered in this guide!</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>In this guide, we are roughly recreating the project that is a part of <code>iroha-javascript</code> integration tests. If you want to see the full project, please refer to the <a href="https://github.com/hyperledger/iroha-javascript/tree/iroha2/packages/client/test/integration/test-web" target="_blank" rel="noreferrer"><code>@iroha2/client-test-web</code> sources</a>.</p></div><p>Our app will consist of 3 main views:</p><ul><li>Status checker that periodically requests peer status (e.g. current blocks height) and shows it;</li><li>Domain creator, which is a form to create a new domain with specified name;</li><li>Listener with a toggle to setup listening for events.</li></ul><p>You can use this folder structure as a reference:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">╭───┬──────────────────────────────╮</span></span>
<span class="line"><span style="color:#e1e4e8;">│ # │             name             │</span></span>
<span class="line"><span style="color:#e1e4e8;">├───┼──────────────────────────────┤</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 0 │ App.vue                      │</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 1 │ client.ts                    │</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 2 │ components/CreateDomain.vue  │</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 3 │ components/Listener.vue      │</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 4 │ components/StatusChecker.vue │</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 5 │ config.json                  │</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 6 │ crypto.ts                    │</span></span>
<span class="line"><span style="color:#e1e4e8;">│ 7 │ main.ts                      │</span></span>
<span class="line"><span style="color:#e1e4e8;">╰───┴──────────────────────────────╯</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">╭───┬──────────────────────────────╮</span></span>
<span class="line"><span style="color:#24292e;">│ # │             name             │</span></span>
<span class="line"><span style="color:#24292e;">├───┼──────────────────────────────┤</span></span>
<span class="line"><span style="color:#24292e;">│ 0 │ App.vue                      │</span></span>
<span class="line"><span style="color:#24292e;">│ 1 │ client.ts                    │</span></span>
<span class="line"><span style="color:#24292e;">│ 2 │ components/CreateDomain.vue  │</span></span>
<span class="line"><span style="color:#24292e;">│ 3 │ components/Listener.vue      │</span></span>
<span class="line"><span style="color:#24292e;">│ 4 │ components/StatusChecker.vue │</span></span>
<span class="line"><span style="color:#24292e;">│ 5 │ config.json                  │</span></span>
<span class="line"><span style="color:#24292e;">│ 6 │ crypto.ts                    │</span></span>
<span class="line"><span style="color:#24292e;">│ 7 │ main.ts                      │</span></span>
<span class="line"><span style="color:#24292e;">╰───┴──────────────────────────────╯</span></span></code></pre></div><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-aHfaK" id="tab-RAGYJwV" checked="checked"><label for="tab-RAGYJwV">config.json</label><input type="radio" name="group-aHfaK" id="tab-pN_WNV7"><label for="tab-pN_WNV7">crypto.ts</label><input type="radio" name="group-aHfaK" id="tab-DLpGNHT"><label for="tab-DLpGNHT">client.ts</label><input type="radio" name="group-aHfaK" id="tab-lx3oAnD"><label for="tab-lx3oAnD">components/StatusChecker.vue</label><input type="radio" name="group-aHfaK" id="tab-dOA3ugf"><label for="tab-dOA3ugf">components/CreateDomain.vue</label><input type="radio" name="group-aHfaK" id="tab-I_cGBmG"><label for="tab-I_cGBmG">components/EventListener.vue</label><input type="radio" name="group-aHfaK" id="tab-38Nnvq4"><label for="tab-38Nnvq4">App.vue</label><input type="radio" name="group-aHfaK" id="tab-vZ7nCvE"><label for="tab-vZ7nCvE">main.ts</label></div><div class="blocks"><div class="language-json vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;torii&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;apiURL&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;http://127.0.0.1:8080&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;telemetryURL&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;http://127.0.0.1:8081&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;account&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;alice&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;domain_id&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;wonderland&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;public_key&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;ed01207233bfc89dcbd68c19fde6ce6158225298ec1131b6a130d1aeb454c1ab5183c0&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;private_key&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;digest_function&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;ed25519&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;payload&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;9ac47abf59b356e0bd7dcbbbb4dec080e302156a48ca907e47cb6aea1d32719e7233bfc89dcbd68c19fde6ce6158225298ec1131b6a130d1aeb454c1ab5183c0&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;torii&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;apiURL&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;http://127.0.0.1:8080&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;telemetryURL&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;http://127.0.0.1:8081&quot;</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;account&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;alice&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;domain_id&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;wonderland&quot;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;public_key&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;ed01207233bfc89dcbd68c19fde6ce6158225298ec1131b6a130d1aeb454c1ab5183c0&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;private_key&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;digest_function&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;ed25519&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;payload&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;9ac47abf59b356e0bd7dcbbbb4dec080e302156a48ca907e47cb6aea1d32719e7233bfc89dcbd68c19fde6ce6158225298ec1131b6a130d1aeb454c1ab5183c0&quot;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { crypto, init } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/crypto-target-web&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">init</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> { crypto }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { crypto, init } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/crypto-target-web&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">init</span><span style="color:#24292E;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> { crypto }</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Client, Signer } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { adapter </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> WS } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client/web-socket/native&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { crypto } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;./crypto&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { client_config } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;../../config&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { AccountId } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">HOST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> window.location.host</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">toriiPre</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// proxified with vite</span></span>
<span class="line"><span style="color:#E1E4E8;">  apiURL: </span><span style="color:#9ECBFF;">`http://${</span><span style="color:#79B8FF;">HOST</span><span style="color:#9ECBFF;">}/torii/api`</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  telemetryURL: </span><span style="color:#9ECBFF;">`http://${</span><span style="color:#79B8FF;">HOST</span><span style="color:#9ECBFF;">}/torii/telemetry`</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ws: </span><span style="color:#79B8FF;">WS</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  fetch: fetch.</span><span style="color:#B392F0;">bind</span><span style="color:#E1E4E8;">(window),</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">signer</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Signer</span><span style="color:#E1E4E8;">(client_config.account </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">AccountId</span><span style="color:#E1E4E8;">, crypto.KeyPair.</span><span style="color:#B392F0;">fromJSON</span><span style="color:#E1E4E8;">(client_config))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">client</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Client</span><span style="color:#E1E4E8;">({ signer })</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Client, Signer } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { adapter </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> WS } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client/web-socket/native&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { crypto } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./crypto&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { client_config } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../../config&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { AccountId } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">HOST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> window.location.host</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">toriiPre</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// proxified with vite</span></span>
<span class="line"><span style="color:#24292E;">  apiURL: </span><span style="color:#032F62;">`http://${</span><span style="color:#005CC5;">HOST</span><span style="color:#032F62;">}/torii/api`</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  telemetryURL: </span><span style="color:#032F62;">`http://${</span><span style="color:#005CC5;">HOST</span><span style="color:#032F62;">}/torii/telemetry`</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  ws: </span><span style="color:#005CC5;">WS</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  fetch: fetch.</span><span style="color:#6F42C1;">bind</span><span style="color:#24292E;">(window),</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">signer</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Signer</span><span style="color:#24292E;">(client_config.account </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AccountId</span><span style="color:#24292E;">, crypto.KeyPair.</span><span style="color:#6F42C1;">fromJSON</span><span style="color:#24292E;">(client_config))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">client</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Client</span><span style="color:#24292E;">({ signer })</span></span></code></pre></div><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ts&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useIntervalFn } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@vueuse/core&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useStaleState, useTask } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@vue-kakuyaku/core&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { toriiPre } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;../client&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Torii } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">state</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">run</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useTask</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> Torii.</span><span style="color:#B392F0;">getStatus</span><span style="color:#E1E4E8;">(toriiPre), { immediate: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> })</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">stale</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useStaleState</span><span style="color:#E1E4E8;">(state)</span></span>
<span class="line"><span style="color:#B392F0;">useIntervalFn</span><span style="color:#E1E4E8;">(run, </span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">h3</span><span style="color:#E1E4E8;">&gt;Status&lt;/</span><span style="color:#85E89D;">h3</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">v-if</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;stale.fulfilled&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;Blocks: {{ stale.fulfilled.value.blocks }}&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;Uptime (sec): {{ stale.fulfilled.value.uptime.secs }}&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;ts&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useIntervalFn } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@vueuse/core&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useStaleState, useTask } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@vue-kakuyaku/core&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { toriiPre } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Torii } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">state</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">run</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useTask</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> Torii.</span><span style="color:#6F42C1;">getStatus</span><span style="color:#24292E;">(toriiPre), { immediate: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> })</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">stale</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useStaleState</span><span style="color:#24292E;">(state)</span></span>
<span class="line"><span style="color:#6F42C1;">useIntervalFn</span><span style="color:#24292E;">(run, </span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">h3</span><span style="color:#24292E;">&gt;Status&lt;/</span><span style="color:#22863A;">h3</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">ul</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">v-if</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;stale.fulfilled&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;Blocks: {{ stale.fulfilled.value.blocks }}&lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;Uptime (sec): {{ stale.fulfilled.value.uptime.secs }}&lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ts&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  DomainId,</span></span>
<span class="line"><span style="color:#E1E4E8;">  EvaluatesToRegistrableBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Executable,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Expression,</span></span>
<span class="line"><span style="color:#E1E4E8;">  IdentifiableBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Instruction,</span></span>
<span class="line"><span style="color:#E1E4E8;">  MapNameValue,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Metadata,</span></span>
<span class="line"><span style="color:#E1E4E8;">  NewDomain,</span></span>
<span class="line"><span style="color:#E1E4E8;">  OptionIpfsPath,</span></span>
<span class="line"><span style="color:#E1E4E8;">  RegisterBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Value,</span></span>
<span class="line"><span style="color:#E1E4E8;">  VecInstruction,</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { ref } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { client, toriiPre } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;../client&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useTask } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@vue-kakuyaku/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">domainName</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">state</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">run</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">registerDomain</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useTask</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.</span><span style="color:#B392F0;">submitExecutable</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    toriiPre,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Executable</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;Instructions&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">VecInstruction</span><span style="color:#E1E4E8;">([</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Instruction</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&#39;Register&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">RegisterBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">            object: </span><span style="color:#B392F0;">EvaluatesToRegistrableBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">              expression: </span><span style="color:#B392F0;">Expression</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;Raw&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">Value</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">                  </span><span style="color:#9ECBFF;">&#39;Identifiable&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                  </span><span style="color:#B392F0;">IdentifiableBox</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">                    </span><span style="color:#9ECBFF;">&#39;NewDomain&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                    </span><span style="color:#B392F0;">NewDomain</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">                      id: </span><span style="color:#B392F0;">DomainId</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">                        name: domainName.value,</span></span>
<span class="line"><span style="color:#E1E4E8;">                      }),</span></span>
<span class="line"><span style="color:#E1E4E8;">                      metadata: </span><span style="color:#B392F0;">Metadata</span><span style="color:#E1E4E8;">({ map: </span><span style="color:#B392F0;">MapNameValue</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Map</span><span style="color:#E1E4E8;">()) }),</span></span>
<span class="line"><span style="color:#E1E4E8;">                      logo: </span><span style="color:#B392F0;">OptionIpfsPath</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;None&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">                    }),</span></span>
<span class="line"><span style="color:#E1E4E8;">                  ),</span></span>
<span class="line"><span style="color:#E1E4E8;">                ),</span></span>
<span class="line"><span style="color:#E1E4E8;">              ),</span></span>
<span class="line"><span style="color:#E1E4E8;">            }),</span></span>
<span class="line"><span style="color:#E1E4E8;">          }),</span></span>
<span class="line"><span style="color:#E1E4E8;">        ),</span></span>
<span class="line"><span style="color:#E1E4E8;">      ]),</span></span>
<span class="line"><span style="color:#E1E4E8;">    ),</span></span>
<span class="line"><span style="color:#E1E4E8;">  )</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">h3</span><span style="color:#E1E4E8;">&gt;Create Domain&lt;/</span><span style="color:#85E89D;">h3</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">label</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">for</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;domain&quot;</span><span style="color:#E1E4E8;">&gt;New domain name:&lt;/</span><span style="color:#85E89D;">label</span><span style="color:#E1E4E8;">&gt; &lt;</span><span style="color:#85E89D;">input</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;domain&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">v-model</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;domainName&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">@click</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;registerDomain()&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Register domain{{ state.pending ? &#39;...&#39; : &#39;&#39; }}</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;ts&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  DomainId,</span></span>
<span class="line"><span style="color:#24292E;">  EvaluatesToRegistrableBox,</span></span>
<span class="line"><span style="color:#24292E;">  Executable,</span></span>
<span class="line"><span style="color:#24292E;">  Expression,</span></span>
<span class="line"><span style="color:#24292E;">  IdentifiableBox,</span></span>
<span class="line"><span style="color:#24292E;">  Instruction,</span></span>
<span class="line"><span style="color:#24292E;">  MapNameValue,</span></span>
<span class="line"><span style="color:#24292E;">  Metadata,</span></span>
<span class="line"><span style="color:#24292E;">  NewDomain,</span></span>
<span class="line"><span style="color:#24292E;">  OptionIpfsPath,</span></span>
<span class="line"><span style="color:#24292E;">  RegisterBox,</span></span>
<span class="line"><span style="color:#24292E;">  Value,</span></span>
<span class="line"><span style="color:#24292E;">  VecInstruction,</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { ref } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { client, toriiPre } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useTask } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@vue-kakuyaku/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">domainName</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">state</span><span style="color:#24292E;">, </span><span style="color:#E36209;">run</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">registerDomain</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useTask</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.</span><span style="color:#6F42C1;">submitExecutable</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    toriiPre,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Executable</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;Instructions&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">VecInstruction</span><span style="color:#24292E;">([</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Instruction</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&#39;Register&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">RegisterBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">            object: </span><span style="color:#6F42C1;">EvaluatesToRegistrableBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">              expression: </span><span style="color:#6F42C1;">Expression</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;Raw&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">Value</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">                  </span><span style="color:#032F62;">&#39;Identifiable&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                  </span><span style="color:#6F42C1;">IdentifiableBox</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">                    </span><span style="color:#032F62;">&#39;NewDomain&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                    </span><span style="color:#6F42C1;">NewDomain</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">                      id: </span><span style="color:#6F42C1;">DomainId</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">                        name: domainName.value,</span></span>
<span class="line"><span style="color:#24292E;">                      }),</span></span>
<span class="line"><span style="color:#24292E;">                      metadata: </span><span style="color:#6F42C1;">Metadata</span><span style="color:#24292E;">({ map: </span><span style="color:#6F42C1;">MapNameValue</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Map</span><span style="color:#24292E;">()) }),</span></span>
<span class="line"><span style="color:#24292E;">                      logo: </span><span style="color:#6F42C1;">OptionIpfsPath</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;None&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">                    }),</span></span>
<span class="line"><span style="color:#24292E;">                  ),</span></span>
<span class="line"><span style="color:#24292E;">                ),</span></span>
<span class="line"><span style="color:#24292E;">              ),</span></span>
<span class="line"><span style="color:#24292E;">            }),</span></span>
<span class="line"><span style="color:#24292E;">          }),</span></span>
<span class="line"><span style="color:#24292E;">        ),</span></span>
<span class="line"><span style="color:#24292E;">      ]),</span></span>
<span class="line"><span style="color:#24292E;">    ),</span></span>
<span class="line"><span style="color:#24292E;">  )</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">h3</span><span style="color:#24292E;">&gt;Create Domain&lt;/</span><span style="color:#22863A;">h3</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">label</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">for</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;domain&quot;</span><span style="color:#24292E;">&gt;New domain name:&lt;/</span><span style="color:#22863A;">label</span><span style="color:#24292E;">&gt; &lt;</span><span style="color:#22863A;">input</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;domain&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">v-model</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;domainName&quot;</span></span>
<span class="line"><span style="color:#24292E;">      &gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@click</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;registerDomain()&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        Register domain{{ state.pending ? &#39;...&#39; : &#39;&#39; }}</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ts&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { SetupEventsReturn, Torii } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  FilterBox,</span></span>
<span class="line"><span style="color:#E1E4E8;">  OptionHash,</span></span>
<span class="line"><span style="color:#E1E4E8;">  OptionPipelineEntityKind,</span></span>
<span class="line"><span style="color:#E1E4E8;">  OptionPipelineStatusKind,</span></span>
<span class="line"><span style="color:#E1E4E8;">  PipelineEntityKind,</span></span>
<span class="line"><span style="color:#E1E4E8;">  PipelineEventFilter,</span></span>
<span class="line"><span style="color:#E1E4E8;">  PipelineStatus,</span></span>
<span class="line"><span style="color:#E1E4E8;">  PipelineStatusKind,</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { computed, onBeforeUnmount, shallowReactive, shallowRef } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { toriiPre } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;../client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bytesToHex</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">bytes</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">[])</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> bytes.</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">byte</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> byte.</span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">16</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">padStart</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0&#39;</span><span style="color:#E1E4E8;">)).</span><span style="color:#B392F0;">join</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">interface</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">EventData</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">hash</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">status</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">events</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">shallowReactive</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">EventData</span><span style="color:#E1E4E8;">[]&gt;([])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">currentListener</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">shallowRef</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SetupEventsReturn</span><span style="color:#E1E4E8;">&gt;(</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">isListening</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">computed</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!!</span><span style="color:#E1E4E8;">currentListener.value)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">displayStatus</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">status</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PipelineStatus</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">switch</span><span style="color:#E1E4E8;"> (status.enum.tag) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;Validating&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;validating&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;Committed&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;committed&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;Rejected&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;rejected with some reason&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">startListening</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  currentListener.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> Torii.</span><span style="color:#B392F0;">listenForEvents</span><span style="color:#E1E4E8;">(toriiPre, {</span></span>
<span class="line"><span style="color:#E1E4E8;">    filter: </span><span style="color:#B392F0;">FilterBox</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;Pipeline&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">PipelineEventFilter</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">        entity_kind: </span><span style="color:#B392F0;">OptionPipelineEntityKind</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Some&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">PipelineEntityKind</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Transaction&#39;</span><span style="color:#E1E4E8;">)),</span></span>
<span class="line"><span style="color:#E1E4E8;">        status_kind: </span><span style="color:#B392F0;">OptionPipelineStatusKind</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Some&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">PipelineStatusKind</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Committed&#39;</span><span style="color:#E1E4E8;">)),</span></span>
<span class="line"><span style="color:#E1E4E8;">        hash: </span><span style="color:#B392F0;">OptionHash</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;None&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">      }),</span></span>
<span class="line"><span style="color:#E1E4E8;">    ),</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  currentListener.value.ee.</span><span style="color:#B392F0;">on</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;event&#39;</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">event</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">hash</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">status</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> event.enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Pipeline&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    events.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      hash: </span><span style="color:#B392F0;">bytesToHex</span><span style="color:#E1E4E8;">([</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">hash]),</span></span>
<span class="line"><span style="color:#E1E4E8;">      status: </span><span style="color:#B392F0;">displayStatus</span><span style="color:#E1E4E8;">(status),</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">stopListening</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> currentListener.value?.</span><span style="color:#B392F0;">stop</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  currentListener.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">onBeforeUnmount</span><span style="color:#E1E4E8;">(stopListening)</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">h3</span><span style="color:#E1E4E8;">&gt;Listening&lt;/</span><span style="color:#85E89D;">h3</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">@click</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;isListening ? stopListening() : startListening()&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        {{ isListening ? &#39;Stop&#39; : &#39;Listen&#39; }}</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;Events:&lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;events-list&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">li</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">v-for</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;{ hash, status } in events&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">:key</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;hash&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Transaction &lt;</span><span style="color:#85E89D;">code</span><span style="color:#E1E4E8;">&gt;{{ hash }}&lt;/</span><span style="color:#85E89D;">code</span><span style="color:#E1E4E8;">&gt; status:</span></span>
<span class="line"><span style="color:#E1E4E8;">        {{ status }}</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;ts&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { SetupEventsReturn, Torii } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  FilterBox,</span></span>
<span class="line"><span style="color:#24292E;">  OptionHash,</span></span>
<span class="line"><span style="color:#24292E;">  OptionPipelineEntityKind,</span></span>
<span class="line"><span style="color:#24292E;">  OptionPipelineStatusKind,</span></span>
<span class="line"><span style="color:#24292E;">  PipelineEntityKind,</span></span>
<span class="line"><span style="color:#24292E;">  PipelineEventFilter,</span></span>
<span class="line"><span style="color:#24292E;">  PipelineStatus,</span></span>
<span class="line"><span style="color:#24292E;">  PipelineStatusKind,</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { computed, onBeforeUnmount, shallowReactive, shallowRef } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { toriiPre } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bytesToHex</span><span style="color:#24292E;">(</span><span style="color:#E36209;">bytes</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">[])</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> bytes.</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">byte</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> byte.</span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">16</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">padStart</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0&#39;</span><span style="color:#24292E;">)).</span><span style="color:#6F42C1;">join</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">EventData</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">hash</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">status</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">events</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">shallowReactive</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">EventData</span><span style="color:#24292E;">[]&gt;([])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">currentListener</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">shallowRef</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">null</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SetupEventsReturn</span><span style="color:#24292E;">&gt;(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">isListening</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">computed</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!!</span><span style="color:#24292E;">currentListener.value)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">displayStatus</span><span style="color:#24292E;">(</span><span style="color:#E36209;">status</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PipelineStatus</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">switch</span><span style="color:#24292E;"> (status.enum.tag) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;Validating&#39;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;validating&#39;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;Committed&#39;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;committed&#39;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;Rejected&#39;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;rejected with some reason&#39;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">startListening</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  currentListener.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> Torii.</span><span style="color:#6F42C1;">listenForEvents</span><span style="color:#24292E;">(toriiPre, {</span></span>
<span class="line"><span style="color:#24292E;">    filter: </span><span style="color:#6F42C1;">FilterBox</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;Pipeline&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">PipelineEventFilter</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        entity_kind: </span><span style="color:#6F42C1;">OptionPipelineEntityKind</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Some&#39;</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">PipelineEntityKind</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Transaction&#39;</span><span style="color:#24292E;">)),</span></span>
<span class="line"><span style="color:#24292E;">        status_kind: </span><span style="color:#6F42C1;">OptionPipelineStatusKind</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Some&#39;</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">PipelineStatusKind</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Committed&#39;</span><span style="color:#24292E;">)),</span></span>
<span class="line"><span style="color:#24292E;">        hash: </span><span style="color:#6F42C1;">OptionHash</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;None&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">      }),</span></span>
<span class="line"><span style="color:#24292E;">    ),</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  currentListener.value.ee.</span><span style="color:#6F42C1;">on</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;event&#39;</span><span style="color:#24292E;">, (</span><span style="color:#E36209;">event</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">hash</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">status</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> event.enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Pipeline&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    events.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">      hash: </span><span style="color:#6F42C1;">bytesToHex</span><span style="color:#24292E;">([</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">hash]),</span></span>
<span class="line"><span style="color:#24292E;">      status: </span><span style="color:#6F42C1;">displayStatus</span><span style="color:#24292E;">(status),</span></span>
<span class="line"><span style="color:#24292E;">    })</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">stopListening</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> currentListener.value?.</span><span style="color:#6F42C1;">stop</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">  currentListener.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">onBeforeUnmount</span><span style="color:#24292E;">(stopListening)</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">h3</span><span style="color:#24292E;">&gt;Listening&lt;/</span><span style="color:#22863A;">h3</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@click</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;isListening ? stopListening() : startListening()&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        {{ isListening ? &#39;Stop&#39; : &#39;Listen&#39; }}</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;Events:&lt;/</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">ul</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;events-list&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">li</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">v-for</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;{ hash, status } in events&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">:key</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;hash&quot;</span></span>
<span class="line"><span style="color:#24292E;">      &gt;</span></span>
<span class="line"><span style="color:#24292E;">        Transaction &lt;</span><span style="color:#22863A;">code</span><span style="color:#24292E;">&gt;{{ hash }}&lt;/</span><span style="color:#22863A;">code</span><span style="color:#24292E;">&gt; status:</span></span>
<span class="line"><span style="color:#24292E;">        {{ status }}</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ts&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> CreateDomain </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;./components/CreateDomain.vue&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> EventListener </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;./components/EventListener.vue&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> StatusChecker </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;./components/StatusChecker.vue&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#FDAEB7;font-style:italic;">StatusChecker</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">hr</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#FDAEB7;font-style:italic;">CreateDomain</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">hr</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#FDAEB7;font-style:italic;">EventListener</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">style</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;scss&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">#app</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">padding</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">16</span><span style="color:#F97583;">px</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">font-family</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">sans-serif</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">style</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;ts&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> CreateDomain </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./components/CreateDomain.vue&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> EventListener </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./components/EventListener.vue&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> StatusChecker </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./components/StatusChecker.vue&#39;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#B31D28;font-style:italic;">StatusChecker</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">hr</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#B31D28;font-style:italic;">CreateDomain</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">hr</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#B31D28;font-style:italic;">EventListener</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">style</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;scss&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">#app</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">padding</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">16</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">font-family</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">sans-serif</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">style</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { createApp } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> App </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;./App.vue&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Logger } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { crypto } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;./crypto&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { setCrypto } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">setCrypto</span><span style="color:#E1E4E8;">(crypto)</span></span>
<span class="line"><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Logger</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">mount</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">localStorage.debug </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;*&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">createApp</span><span style="color:#E1E4E8;">(App).</span><span style="color:#B392F0;">mount</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#app&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { createApp } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> App </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./App.vue&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Logger } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/data-model&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { crypto } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./crypto&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { setCrypto } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">setCrypto</span><span style="color:#24292E;">(crypto)</span></span>
<span class="line"><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Logger</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">mount</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">localStorage.debug </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;*&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">createApp</span><span style="color:#24292E;">(App).</span><span style="color:#6F42C1;">mount</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;#app&#39;</span><span style="color:#24292E;">)</span></span></code></pre></div></div></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>In <code>client.ts</code>, we import the configuration file like this:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { client_config } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;../../config&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { client_config } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../../config&#39;</span></span></code></pre></div><p>Note that you need to import the config in this way because this is how the source code of this application works. You can interpret this line as <code>import client_config from &#39;config.json&#39;</code>.</p></div><h3 id="demo" tabindex="-1">Demo <a class="header-anchor" href="#demo" aria-label="Permalink to &quot;Demo&quot;">​</a></h3><p>Here is a small demo with the usage of this component:</p><div class="border border-solid border-gray-300 rounded-md shadow-md"><p><img src="/iroha-2-docs/assets/sample-vue-app.4caffed6.gif" alt="Demo of the sample Vue application"></p></div><h2 id="_9-subscribing-to-block-stream" tabindex="-1">9. Subscribing to Block Stream <a class="header-anchor" href="#_9-subscribing-to-block-stream" aria-label="Permalink to &quot;9. Subscribing to Block Stream&quot;">​</a></h2><p>You can use <a href="https://github.com/hyperledger/iroha/blob/iroha2-lts/docs/source/references/api_spec.md#blocks-stream" target="_blank" rel="noreferrer"><code>/block/stream</code> endpoint</a> to send a subscription request for block streaming.</p><p>Via this endpoint, the client first provides the starting block number (i.e. height) in the subscription request. After sending the confirmation message, the server starts streaming all the blocks from the given block number up to the current block, and continues to stream blocks as they are added to the blockchain.</p><p>Here is an example of how to listen to the block stream:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Torii, ToriiRequirementsForApiWebSocket } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@iroha2/client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">requirements</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ToriiRequirementsForApiWebSocket</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">stream</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> Torii.</span><span style="color:#B392F0;">listenForBlocksStream</span><span style="color:#E1E4E8;">(requirements, {</span></span>
<span class="line"><span style="color:#E1E4E8;">  height: </span><span style="color:#79B8FF;">0</span><span style="color:#F97583;">n</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">stream.ee.</span><span style="color:#B392F0;">on</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;block&#39;</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">block</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">height</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> block.enum.</span><span style="color:#B392F0;">as</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;V1&#39;</span><span style="color:#E1E4E8;">).header.height</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Got block with height&#39;</span><span style="color:#E1E4E8;">, height)</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Torii, ToriiRequirementsForApiWebSocket } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@iroha2/client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">declare</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">requirements</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ToriiRequirementsForApiWebSocket</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">stream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> Torii.</span><span style="color:#6F42C1;">listenForBlocksStream</span><span style="color:#24292E;">(requirements, {</span></span>
<span class="line"><span style="color:#24292E;">  height: </span><span style="color:#005CC5;">0</span><span style="color:#D73A49;">n</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">stream.ee.</span><span style="color:#6F42C1;">on</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;block&#39;</span><span style="color:#24292E;">, (</span><span style="color:#E36209;">block</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">height</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> block.enum.</span><span style="color:#6F42C1;">as</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;V1&#39;</span><span style="color:#24292E;">).header.height</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Got block with height&#39;</span><span style="color:#24292E;">, height)</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>We have to pass environment-specific <code>ws</code> and <code>fetch</code>, because there is no way for Iroha Client to communicate with a peer in an environment-agnostic way. <a href="#fnref1" class="footnote-backref">↩︎</a></p></li></ol></section></div></div></main><footer class="VPDocFooter" data-v-4c05baee data-v-c6cf7d08><!--[--><!--]--><div class="edit-info" data-v-c6cf7d08><div class="edit-link" data-v-c6cf7d08><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/hyperledger/iroha-2-docs/edit/main/src/guide/javascript.md" target="_blank" rel="noreferrer" data-v-c6cf7d08><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-c6cf7d08><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-c6cf7d08><p class="VPLastUpdated" data-v-c6cf7d08 data-v-50a67d3d>Last Updated: <time datetime="2023-09-26T10:45:26.000Z" data-v-50a67d3d></time></p></div></div><nav class="prev-next" data-v-c6cf7d08><div class="pager" data-v-c6cf7d08><a class="pager-link prev" href="/iroha-2-docs/guide/kotlin-java.html" data-v-c6cf7d08><span class="desc" data-v-c6cf7d08>Previous page</span><span class="title" data-v-c6cf7d08>Kotlin/Java</span></a></div><div class="pager" data-v-c6cf7d08><a class="pager-link next" href="/iroha-2-docs/guide/compatibility-matrix.html" data-v-c6cf7d08><span class="desc" data-v-c6cf7d08>Next page</span><span class="title" data-v-c6cf7d08>Compatibility Matrix</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api_ffi.md\":\"8b43c6e3\",\"guide_reports_csd-rtgs.md\":\"6830d6c0\",\"guide_rust.md\":\"9d33ced4\",\"guide_support.md\":\"66ce5205\",\"guide_troubleshooting_configuration-issues.md\":\"28cded18\",\"guide_troubleshooting_deployment-issues.md\":\"b288258b\",\"guide_troubleshooting_integration-issues.md\":\"ee262499\",\"guide_troubleshooting_overview.md\":\"cb2d48b3\",\"guide_iroha-2.md\":\"24dc2cbd\",\"api_index.md\":\"45ebb38a\",\"guide_quick-start.md\":\"d1bb7d06\",\"index.md\":\"a0d16c40\",\"guide_configure_client-configuration.md\":\"85559aea\",\"guide_blockchain_assets.md\":\"ee7f68f0\",\"data-model-schema_index.md\":\"ed9d3ebf\",\"guide_compatibility-matrix.md\":\"08533ebc\",\"guide_configure_peer-management.md\":\"38212923\",\"guide_configure_configuration-types.md\":\"f307bda9\",\"guide_blockchain_consensus.md\":\"cc1eaa2d\",\"guide_blockchain_data-model.md\":\"373c1bbc\",\"guide_blockchain_domains.md\":\"d175cb2c\",\"guide_blockchain_events.md\":\"cbf928a8\",\"guide_blockchain_expressions.md\":\"f569913e\",\"guide_blockchain_instructions.md\":\"a23d98d0\",\"guide_blockchain_metadata.md\":\"c7772a4f\",\"guide_blockchain_naming.md\":\"c9ea3628\",\"guide_kotlin-java.md\":\"1f25ec36\",\"guide_python.md\":\"4f96b7cd\",\"guide_blockchain_permissions.md\":\"b60dfed6\",\"documenting_snippets.md\":\"6d0b82e4\",\"guide_advanced_hot-reload.md\":\"52ded044\",\"guide_advanced_metrics.md\":\"068ed78e\",\"guide_advanced_running-iroha-on-bare-metal.md\":\"c489c8d0\",\"guide_bash.md\":\"c8016216\",\"guide_blockchain_accounts.md\":\"a91a73f6\",\"guide_blockchain_filters.md\":\"c55c4438\",\"guide_blockchain_transactions.md\":\"ffdf5300\",\"guide_blockchain_queries.md\":\"ad45a55f\",\"guide_javascript.md\":\"8a202ec0\",\"data-model-schema_stable.md\":\"4fd20ab1\",\"guide_blockchain_triggers.md\":\"32a3b741\",\"guide_troubleshooting_installation-issues.md\":\"60ecdee5\",\"guide_configure_metadata-and-store-assets.md\":\"d13decae\",\"guide_intro.md\":\"efc48522\",\"data-model-schema_lts.md\":\"e3e9b931\",\"guide_build.md\":\"8ff8e792\",\"guide_glossary.md\":\"4ecb3d1e\",\"guide_configure_keys.md\":\"8d0c3624\",\"guide_configure_modes.md\":\"a7b899b7\",\"data-model-schema_dev.md\":\"ef3ee943\",\"guide_blockchain_wasm.md\":\"548a8765\",\"guide_blockchain_world.md\":\"718c1eb3\",\"guide_install.md\":\"8aba2f63\",\"guide_configure_peer-configuration.md\":\"5caefa62\",\"guide_configure_sample-configuration.md\":\"d4b0d30f\",\"guide_configure_genesis.md\":\"971159b1\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Hyperledger Iroha 2 Tutorial\",\"description\":\"Documentation for Hyperledger Iroha 2 offering step-by-step guides for SDKs and outlining the main differences between Iroha versions.\",\"base\":\"/iroha-2-docs/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"Iroha 2\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/hyperledger/iroha-2-docs\"},{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"32\\\" height=\\\"32\\\" viewBox=\\\"0 0 24 24\\\"><path fill=\\\"currentColor\\\" d=\\\"M12 21q-1.625 0-3.013-.8T6.8 18H4.975q-.425 0-.7-.288T4 17q0-.425.288-.713T5 16h1.1q-.075-.5-.088-1T6 14H4.975q-.425 0-.7-.288T4 13q0-.425.288-.713T5 12h1q0-.5.013-1t.087-1H4.975q-.425 0-.7-.288T4 9q0-.425.288-.713T5 8h1.8q.35-.575.788-1.075T8.6 6.05l-.925-.95q-.275-.3-.263-.713T7.7 3.7q.275-.275.7-.275t.7.275l1.45 1.45q.7-.225 1.425-.225t1.425.225l1.5-1.475q.3-.275.713-.262t.687.287q.275.275.275.7t-.275.7l-.95.95q.575.375 1.038.863T17.2 8h1.825q.425 0 .7.288T20 9q0 .425-.288.713T19 10h-1.1q.075.5.088 1T18 12h1.025q.425 0 .7.288T20 13q0 .425-.288.713T19 14h-1q0 .5-.013 1t-.087 1h1.125q.425 0 .7.288T20 17q0 .425-.288.713T19 18h-1.8q-.8 1.4-2.188 2.2T12 21Zm0-2q1.65 0 2.825-1.175T16 15v-4q0-1.65-1.175-2.825T12 7q-1.65 0-2.825 1.175T8 11v4q0 1.65 1.175 2.825T12 19Zm-1-3h2.025q.425 0 .7-.288T14 15q0-.425-.288-.713T13 14h-2.025q-.425 0-.7.288T10 15q0 .425.288.713T11 16Zm0-4h2.025q.425 0 .7-.288T14 11q0-.425-.288-.713T13 10h-2.025q-.425 0-.7.288T10 11q0 .425.288.713T11 12Zm1 1Z\\\"/></svg>\"},\"link\":\"https://github.com/hyperledger/iroha-2-docs/issues/new\"}],\"editLink\":{\"pattern\":\"https://github.com/hyperledger/iroha-2-docs/edit/main/src/:path\",\"text\":\"Edit this page on GitHub\"},\"lastUpdated\":{\"text\":\"Last Updated\"},\"sidebar\":{\"/guide/\":[{\"text\":\"Getting started\",\"items\":[{\"text\":\"How Iroha works\",\"link\":\"/\"},{\"text\":\"Iroha 2 vs. Iroha 1\",\"link\":\"/guide/iroha-2\"},{\"text\":\"Build and Install\",\"items\":[{\"text\":\"Quick Start with Docker\",\"link\":\"/guide/quick-start\"},{\"text\":\"Install Iroha\",\"link\":\"/guide/install\"},{\"text\":\"Build Iroha Client\",\"link\":\"/guide/build\"}]},{\"text\":\"Receive support\",\"link\":\"/guide/support.md\"},{\"text\":\"Glossary\",\"link\":\"/guide/glossary.md\"}]},{\"text\":\"Tutorial\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/guide/intro\"},{\"text\":\"Language-specific Guides\",\"items\":[{\"text\":\"Bash\",\"link\":\"/guide/bash\"},{\"text\":\"Python 3\",\"link\":\"/guide/python\"},{\"text\":\"Rust\",\"link\":\"/guide/rust\"},{\"text\":\"Kotlin/Java\",\"link\":\"/guide/kotlin-java\"},{\"text\":\"JavaScript\",\"link\":\"/guide/javascript\"},{\"text\":\"Compatibility Matrix\",\"link\":\"/guide/compatibility-matrix\"}]}]},{\"text\":\"Blockchain\",\"items\":[{\"text\":\"Overview\",\"items\":[{\"text\":\"Transactions\",\"link\":\"/guide/blockchain/transactions\"},{\"text\":\"Consensus\",\"link\":\"/guide/blockchain/consensus\"},{\"text\":\"Data Model\",\"link\":\"/guide/blockchain/data-model\"},{\"text\":\"Naming Conventions\",\"link\":\"/guide/blockchain/naming.md\"}]},{\"text\":\"Entities\",\"items\":[{\"text\":\"Assets\",\"link\":\"/guide/blockchain/assets\"},{\"text\":\"Metadata\",\"link\":\"/guide/blockchain/metadata\"},{\"text\":\"Events\",\"link\":\"/guide/blockchain/events\"},{\"text\":\"Filters\",\"link\":\"/guide/blockchain/filters\"},{\"text\":\"Triggers\",\"link\":\"/guide/blockchain/triggers\"},{\"text\":\"Queries\",\"link\":\"/guide/blockchain/queries\"},{\"text\":\"Permissions\",\"link\":\"/guide/blockchain/permissions\"},{\"text\":\"World\",\"link\":\"/guide/blockchain/world\"}]},{\"text\":\"Operations\",\"items\":[{\"text\":\"Instructions\",\"link\":\"/guide/blockchain/instructions\"},{\"text\":\"Expressions\",\"link\":\"/guide/blockchain/expressions\"},{\"text\":\"Web Assembly\",\"link\":\"/guide/blockchain/wasm\"}]}]},{\"text\":\"Configuration and Management\",\"items\":[{\"text\":\"Configure Iroha\",\"items\":[{\"text\":\"Configuration Types\",\"link\":\"/guide/configure/configuration-types\"},{\"text\":\"Samples\",\"link\":\"/guide/configure/sample-configuration\"},{\"text\":\"Peer Configuration\",\"link\":\"/guide/configure/peer-configuration\"},{\"text\":\"Client Configuration\",\"link\":\"/guide/configure/client-configuration\"},{\"text\":\"Genesis Block\",\"link\":\"/guide/configure/genesis\"},{\"text\":\"Metadata and Store assets\",\"link\":\"/guide/configure/metadata-and-store-assets\"}]},{\"text\":\"Public Key Cryptography\",\"link\":\"/guide/configure/keys\"},{\"text\":\"Peer Management\",\"link\":\"/guide/configure/peer-management\"},{\"text\":\"Public and Private Blockchains\",\"link\":\"/guide/configure/modes\"}]},{\"text\":\"Troubleshooting\",\"items\":[{\"text\":\"Overview\",\"link\":\"/guide/troubleshooting/overview\"},{\"text\":\"Installation\",\"link\":\"/guide/troubleshooting/installation-issues\"},{\"text\":\"Configuration\",\"link\":\"/guide/troubleshooting/configuration-issues\"},{\"text\":\"Deployment\",\"link\":\"/guide/troubleshooting/deployment-issues\"},{\"text\":\"Integration\",\"link\":\"/guide/troubleshooting/integration-issues\"}]},{\"text\":\"Advanced Mode\",\"items\":[{\"text\":\"Iroha On Bare Metal\",\"link\":\"/guide/advanced/running-iroha-on-bare-metal\"},{\"text\":\"Hot Reload Iroha\",\"link\":\"/guide/advanced/hot-reload\"},{\"text\":\"Monitor Iroha Performance\",\"link\":\"/guide/advanced/metrics\"}]},{\"text\":\"API\",\"items\":[{\"text\":\"Specification\",\"link\":\"/api/index.md\"},{\"text\":\"Foreign Function Interfaces\",\"link\":\"/api/ffi\"}]},{\"text\":\"Documenting Iroha\",\"items\":[{\"text\":\"Code Snippets\",\"link\":\"/documenting/snippets\"}]},{\"text\":\"Reports\",\"items\":[{\"text\":\"CSD/RTGS linkages via on-chain scripting\",\"link\":\"/guide/reports/csd-rtgs\"}]}],\"/data-model-schema\":[{\"text\":\"Channel\",\"items\":[{\"link\":\"/data-model-schema/stable\",\"text\":\"iroha2-stable\"},{\"link\":\"/data-model-schema/lts\",\"text\":\"iroha2-lts\"},{\"link\":\"/data-model-schema/dev\",\"text\":\"iroha2-dev\"}]}],\"/\":[{\"text\":\"Getting started\",\"items\":[{\"text\":\"How Iroha works\",\"link\":\"/\"},{\"text\":\"Iroha 2 vs. Iroha 1\",\"link\":\"/guide/iroha-2\"},{\"text\":\"Build and Install\",\"items\":[{\"text\":\"Quick Start with Docker\",\"link\":\"/guide/quick-start\"},{\"text\":\"Install Iroha\",\"link\":\"/guide/install\"},{\"text\":\"Build Iroha Client\",\"link\":\"/guide/build\"}]},{\"text\":\"Receive support\",\"link\":\"/guide/support.md\"},{\"text\":\"Glossary\",\"link\":\"/guide/glossary.md\"}]},{\"text\":\"Tutorial\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/guide/intro\"},{\"text\":\"Language-specific Guides\",\"items\":[{\"text\":\"Bash\",\"link\":\"/guide/bash\"},{\"text\":\"Python 3\",\"link\":\"/guide/python\"},{\"text\":\"Rust\",\"link\":\"/guide/rust\"},{\"text\":\"Kotlin/Java\",\"link\":\"/guide/kotlin-java\"},{\"text\":\"JavaScript\",\"link\":\"/guide/javascript\"},{\"text\":\"Compatibility Matrix\",\"link\":\"/guide/compatibility-matrix\"}]}]},{\"text\":\"Blockchain\",\"items\":[{\"text\":\"Overview\",\"items\":[{\"text\":\"Transactions\",\"link\":\"/guide/blockchain/transactions\"},{\"text\":\"Consensus\",\"link\":\"/guide/blockchain/consensus\"},{\"text\":\"Data Model\",\"link\":\"/guide/blockchain/data-model\"},{\"text\":\"Naming Conventions\",\"link\":\"/guide/blockchain/naming.md\"}]},{\"text\":\"Entities\",\"items\":[{\"text\":\"Assets\",\"link\":\"/guide/blockchain/assets\"},{\"text\":\"Metadata\",\"link\":\"/guide/blockchain/metadata\"},{\"text\":\"Events\",\"link\":\"/guide/blockchain/events\"},{\"text\":\"Filters\",\"link\":\"/guide/blockchain/filters\"},{\"text\":\"Triggers\",\"link\":\"/guide/blockchain/triggers\"},{\"text\":\"Queries\",\"link\":\"/guide/blockchain/queries\"},{\"text\":\"Permissions\",\"link\":\"/guide/blockchain/permissions\"},{\"text\":\"World\",\"link\":\"/guide/blockchain/world\"}]},{\"text\":\"Operations\",\"items\":[{\"text\":\"Instructions\",\"link\":\"/guide/blockchain/instructions\"},{\"text\":\"Expressions\",\"link\":\"/guide/blockchain/expressions\"},{\"text\":\"Web Assembly\",\"link\":\"/guide/blockchain/wasm\"}]}]},{\"text\":\"Configuration and Management\",\"items\":[{\"text\":\"Configure Iroha\",\"items\":[{\"text\":\"Configuration Types\",\"link\":\"/guide/configure/configuration-types\"},{\"text\":\"Samples\",\"link\":\"/guide/configure/sample-configuration\"},{\"text\":\"Peer Configuration\",\"link\":\"/guide/configure/peer-configuration\"},{\"text\":\"Client Configuration\",\"link\":\"/guide/configure/client-configuration\"},{\"text\":\"Genesis Block\",\"link\":\"/guide/configure/genesis\"},{\"text\":\"Metadata and Store assets\",\"link\":\"/guide/configure/metadata-and-store-assets\"}]},{\"text\":\"Public Key Cryptography\",\"link\":\"/guide/configure/keys\"},{\"text\":\"Peer Management\",\"link\":\"/guide/configure/peer-management\"},{\"text\":\"Public and Private Blockchains\",\"link\":\"/guide/configure/modes\"}]},{\"text\":\"Troubleshooting\",\"items\":[{\"text\":\"Overview\",\"link\":\"/guide/troubleshooting/overview\"},{\"text\":\"Installation\",\"link\":\"/guide/troubleshooting/installation-issues\"},{\"text\":\"Configuration\",\"link\":\"/guide/troubleshooting/configuration-issues\"},{\"text\":\"Deployment\",\"link\":\"/guide/troubleshooting/deployment-issues\"},{\"text\":\"Integration\",\"link\":\"/guide/troubleshooting/integration-issues\"}]},{\"text\":\"Advanced Mode\",\"items\":[{\"text\":\"Iroha On Bare Metal\",\"link\":\"/guide/advanced/running-iroha-on-bare-metal\"},{\"text\":\"Hot Reload Iroha\",\"link\":\"/guide/advanced/hot-reload\"},{\"text\":\"Monitor Iroha Performance\",\"link\":\"/guide/advanced/metrics\"}]},{\"text\":\"API\",\"items\":[{\"text\":\"Specification\",\"link\":\"/api/index.md\"},{\"text\":\"Foreign Function Interfaces\",\"link\":\"/api/ffi\"}]},{\"text\":\"Documenting Iroha\",\"items\":[{\"text\":\"Code Snippets\",\"link\":\"/documenting/snippets\"}]},{\"text\":\"Reports\",\"items\":[{\"text\":\"CSD/RTGS linkages via on-chain scripting\",\"link\":\"/guide/reports/csd-rtgs\"}]}]},\"nav\":[{\"text\":\"Guide\",\"link\":\"/\",\"activeMatch\":\"^/$|^/guide/\"},{\"text\":\"Schema\",\"link\":\"/data-model-schema/\",\"activeMatch\":\"^/data-model-schema/\"}],\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>