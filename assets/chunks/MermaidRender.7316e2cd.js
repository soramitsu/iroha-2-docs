import{a as g,u as k}from"./vue-kakuyaku.a530ead7.js";import{d as y,g as u,h as x,ao as D,ap as R,u as S,aq as b,o as n,c as r,F as m,k as s,t as p}from"./framework.1293becd.js";import v from"https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";async function j(d,t,l){v.initialize({startOnLoad:!0,theme:l.theme});const{svg:a}=await v.render(d,t);return{svg:a}}const B={ref:"root"},L=["innerHTML"],M={class:"custom-block danger"},T=s("p",{class:"custom-block-title"}," Unable to render the diagram ",-1),$={class:"language-mermaid"},C={key:1,class:"flex justify-center p-8"},I=y({__name:"MermaidRender",props:{id:{},text:{}},setup(d){const t=d,l=u(()=>decodeURIComponent(t.text)),a=x(!1);D(R("root"),([{isIntersecting:e}])=>{a.value||(a.value=e)});const{isDark:f}=S(),c=b(()=>f.value?"dark":"light"),_=g(()=>a.value&&{key:`${t.id}-${t.text}-${c.value}`,payload:{id:t.id,text:l.value,theme:c.value}},({payload:{id:e,text:i,theme:h}})=>k(()=>j(e,i,{theme:h}),{immediate:!0})),o=u(()=>{var e;return(e=_.value)==null?void 0:e.expose.state});return(e,i)=>(n(),r("div",B,[o.value&&!o.value.pending?(n(),r(m,{key:0},[o.value.fulfilled?(n(),r("pre",{key:0,"data-mermaid":"",class:"flex justify-center",innerHTML:o.value.fulfilled.value.svg},null,8,L)):(n(),r(m,{key:1},[s("div",M,[T,s("p",null,p(o.value.rejected.reason),1)]),s("div",$,[s("pre",null,[s("code",null,p(l.value),1)])])],64))],64)):(n(),r("div",C," Rendering the diagram... "))],512))}});export{I as default};
