import{x as s,ai as f,g as a,aj as o,ak as c,E as i,al as d,am as p,an as m}from"./framework.1293becd.js";function R(e,n,l){return s(()=>e.fulfilled,u=>u&&n(u.value),l)}function S(e,n,l){return s(()=>e.rejected,u=>u&&n(u.reason),l)}function y(){let e=null;const n=f({pending:!1,fulfilled:null,rejected:null});function l(t){e=t,n.pending=!0,n.fulfilled=null,n.rejected=null,t.then(r=>{t===e&&(n.pending=!1,n.fulfilled=o({value:r}))}).catch(r=>{t===e&&(n.pending=!1,n.rejected=o({reason:r}))})}function u(){e=null,n.pending=!1,n.fulfilled=n.rejected=null}return{state:n,set:l,clear:u}}function P(e,n){const{state:l,set:u,clear:t}=y(),r=()=>u(e());return n!=null&&n.immediate&&r(),{state:l,run:r,clear:t}}function v(){const e=m()||c();let n=null;const l=i(null);function u(r){t(),e.run(()=>{n=c(),n.run(()=>{l.value={expose:r()}})})}function t(){n&&(n.stop(),n=l.value=null)}return{setup:u,dispose:t,scope:d(l)}}function g(e){const n=typeof e;return e===!0||n==="string"||n==="number"||n==="symbol"}function h(e){return g(e)?e:e.key}function j(e){return typeof e=="object"?e:{key:e}}function w(e){return e==null||e===!1?null:{some:e}}function T(e,n){const l=v(),u=a(()=>{const t=p(e)?e.value:e();return w(t)});return s(()=>{const t=u.value;return t?h(t.some):null},t=>{t?l.setup(()=>{if(t===!0)return{expose:n(!0)};const r=u.value.some;return{expose:n(r),...j(r)}}):l.dispose()},{immediate:!0}),a(()=>{var t;return((t=l.scope.value)==null?void 0:t.expose)??null})}export{T as a,y as b,S as c,P as u,R as w};
